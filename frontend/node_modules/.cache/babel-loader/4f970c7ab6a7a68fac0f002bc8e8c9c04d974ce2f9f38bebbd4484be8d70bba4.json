{"ast":null,"code":"var _jsxFileName = \"/Users/xiaoyang/Desktop/TimelyAI/frontend/src/components/ParticipantSelector.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { AutoComplete, Avatar, List, Tag, Space, Button } from 'antd';\nimport { UserOutlined, DeleteOutlined, MailOutlined, TeamOutlined } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ParticipantSelector({\n  value = [],\n  onChange\n}) {\n  _s();\n  const [searchText, setSearchText] = React.useState('');\n  const [loading, setLoading] = React.useState(false);\n  const [searchResults, setSearchResults] = React.useState([]);\n  const handleSearch = async text => {\n    setSearchText(text);\n    if (!text) {\n      setSearchResults([]);\n      return;\n    }\n    setLoading(true);\n    try {\n      // 这里可以调用后端 API 搜索用户\n      const response = await fetch(`/api/search-users?keyword=${text}`);\n      const data = await response.json();\n      setSearchResults(data);\n    } catch (error) {\n      console.error('搜索用户失败:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSelect = (_, option) => {\n    const newParticipant = {\n      key: option.key,\n      name: option.name,\n      email: option.email,\n      department: option.department\n    };\n    onChange([...value, newParticipant]);\n    setSearchText('');\n  };\n  const handleRemove = index => {\n    const newValue = [...value];\n    newValue.splice(index, 1);\n    onChange(newValue);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"participant-selector\",\n    children: [/*#__PURE__*/_jsxDEV(AutoComplete, {\n      value: searchText,\n      onChange: handleSearch,\n      onSelect: handleSelect,\n      placeholder: \"\\u641C\\u7D22\\u53C2\\u4E0E\\u8005\\u6216\\u8F93\\u5165\\u90AE\\u7BB1\",\n      loading: loading,\n      style: {\n        width: '100%',\n        marginBottom: 16\n      },\n      children: searchResults.map(item => /*#__PURE__*/_jsxDEV(AutoComplete.Option, {\n        value: item.name,\n        name: item.name,\n        email: item.email,\n        department: item.department,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            size: \"small\",\n            icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Tag, {\n            color: \"blue\",\n            children: item.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this), item.department && /*#__PURE__*/_jsxDEV(Tag, {\n            color: \"green\",\n            children: item.department\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      dataSource: value,\n      renderItem: (item, index) => /*#__PURE__*/_jsxDEV(List.Item, {\n        actions: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 39\n          }, this),\n          onClick: () => handleRemove(index),\n          danger: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }, this)],\n        children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n          avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n            icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 37\n          }, this),\n          title: item.name,\n          description: /*#__PURE__*/_jsxDEV(Space, {\n            children: [/*#__PURE__*/_jsxDEV(Tag, {\n              icon: /*#__PURE__*/_jsxDEV(MailOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 48\n              }, this),\n              children: item.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 37\n            }, this), item.department && /*#__PURE__*/_jsxDEV(Tag, {\n              icon: /*#__PURE__*/_jsxDEV(TeamOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 52\n              }, this),\n              children: item.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_s(ParticipantSelector, \"r10sOGQg4WkjALSLNBg6mfuwnWQ=\");\n_c = ParticipantSelector;\nexport default ParticipantSelector;\nvar _c;\n$RefreshReg$(_c, \"ParticipantSelector\");","map":{"version":3,"names":["React","AutoComplete","Avatar","List","Tag","Space","Button","UserOutlined","DeleteOutlined","MailOutlined","TeamOutlined","jsxDEV","_jsxDEV","ParticipantSelector","value","onChange","_s","searchText","setSearchText","useState","loading","setLoading","searchResults","setSearchResults","handleSearch","text","response","fetch","data","json","error","console","handleSelect","_","option","newParticipant","key","name","email","department","handleRemove","index","newValue","splice","className","children","onSelect","placeholder","style","width","marginBottom","map","item","Option","size","icon","fileName","_jsxFileName","lineNumber","columnNumber","color","id","dataSource","renderItem","Item","actions","type","onClick","danger","Meta","avatar","title","description","_c","$RefreshReg$"],"sources":["/Users/xiaoyang/Desktop/TimelyAI/frontend/src/components/ParticipantSelector.js"],"sourcesContent":["import React from 'react';\nimport { AutoComplete, Avatar, List, Tag, Space, Button } from 'antd';\nimport { UserOutlined, DeleteOutlined, MailOutlined, TeamOutlined } from '@ant-design/icons';\n\nfunction ParticipantSelector({ value = [], onChange }) {\n    const [searchText, setSearchText] = React.useState('');\n    const [loading, setLoading] = React.useState(false);\n    const [searchResults, setSearchResults] = React.useState([]);\n\n    const handleSearch = async (text) => {\n        setSearchText(text);\n        if (!text) {\n            setSearchResults([]);\n            return;\n        }\n\n        setLoading(true);\n        try {\n            // 这里可以调用后端 API 搜索用户\n            const response = await fetch(`/api/search-users?keyword=${text}`);\n            const data = await response.json();\n            setSearchResults(data);\n        } catch (error) {\n            console.error('搜索用户失败:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleSelect = (_, option) => {\n        const newParticipant = {\n            key: option.key,\n            name: option.name,\n            email: option.email,\n            department: option.department\n        };\n        onChange([...value, newParticipant]);\n        setSearchText('');\n    };\n\n    const handleRemove = (index) => {\n        const newValue = [...value];\n        newValue.splice(index, 1);\n        onChange(newValue);\n    };\n\n    return (\n        <div className=\"participant-selector\">\n            <AutoComplete\n                value={searchText}\n                onChange={handleSearch}\n                onSelect={handleSelect}\n                placeholder=\"搜索参与者或输入邮箱\"\n                loading={loading}\n                style={{ width: '100%', marginBottom: 16 }}\n            >\n                {searchResults.map(item => (\n                    <AutoComplete.Option \n                        key={item.id} \n                        value={item.name}\n                        name={item.name}\n                        email={item.email}\n                        department={item.department}\n                    >\n                        <Space>\n                            <Avatar size=\"small\" icon={<UserOutlined />} />\n                            <span>{item.name}</span>\n                            <Tag color=\"blue\">{item.email}</Tag>\n                            {item.department && (\n                                <Tag color=\"green\">{item.department}</Tag>\n                            )}\n                        </Space>\n                    </AutoComplete.Option>\n                ))}\n            </AutoComplete>\n\n            <List\n                dataSource={value}\n                renderItem={(item, index) => (\n                    <List.Item\n                        actions={[\n                            <Button\n                                type=\"text\"\n                                icon={<DeleteOutlined />}\n                                onClick={() => handleRemove(index)}\n                                danger\n                            />\n                        ]}\n                    >\n                        <List.Item.Meta\n                            avatar={<Avatar icon={<UserOutlined />} />}\n                            title={item.name}\n                            description={\n                                <Space>\n                                    <Tag icon={<MailOutlined />}>{item.email}</Tag>\n                                    {item.department && (\n                                        <Tag icon={<TeamOutlined />}>{item.department}</Tag>\n                                    )}\n                                </Space>\n                            }\n                        />\n                    </List.Item>\n                )}\n            />\n        </div>\n    );\n}\n\nexport default ParticipantSelector; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}