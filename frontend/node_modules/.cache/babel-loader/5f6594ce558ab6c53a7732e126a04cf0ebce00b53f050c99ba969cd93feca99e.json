{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\nvar _extends = _interopDefault(require('@babel/runtime/helpers/extends'));\nvar _slicedToArray = _interopDefault(require('@babel/runtime/helpers/slicedToArray'));\nvar _objectSpread = _interopDefault(require('@babel/runtime/helpers/objectSpread'));\nvar _classCallCheck = _interopDefault(require('@babel/runtime/helpers/classCallCheck'));\nvar _createClass = _interopDefault(require('@babel/runtime/helpers/createClass'));\nvar _possibleConstructorReturn = _interopDefault(require('@babel/runtime/helpers/possibleConstructorReturn'));\nvar _getPrototypeOf = _interopDefault(require('@babel/runtime/helpers/getPrototypeOf'));\nvar _inherits = _interopDefault(require('@babel/runtime/helpers/inherits'));\nvar _assertThisInitialized = _interopDefault(require('@babel/runtime/helpers/assertThisInitialized'));\nvar _defineProperty = _interopDefault(require('@babel/runtime/helpers/defineProperty'));\nvar React = require('react');\nvar reactDom = require('react-dom');\nvar invariant = _interopDefault(require('invariant'));\nvar _toConsumableArray = _interopDefault(require('@babel/runtime/helpers/toConsumableArray'));\nvar PropTypes = _interopDefault(require('prop-types'));\nvar Manager = function () {\n  function Manager() {\n    _classCallCheck(this, Manager);\n    _defineProperty(this, \"refs\", {});\n  }\n  _createClass(Manager, [{\n    key: \"add\",\n    value: function add(collection, ref) {\n      if (!this.refs[collection]) {\n        this.refs[collection] = [];\n      }\n      this.refs[collection].push(ref);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(collection, ref) {\n      var index = this.getIndex(collection, ref);\n      if (index !== -1) {\n        this.refs[collection].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      var _this = this;\n      return this.refs[this.active.collection].find(function (_ref) {\n        var node = _ref.node;\n        return node.sortableInfo.index == _this.active.index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(collection, ref) {\n      return this.refs[collection].indexOf(ref);\n    }\n  }, {\n    key: \"getOrderedRefs\",\n    value: function getOrderedRefs() {\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.active.collection;\n      return this.refs[collection].sort(sortByIndex);\n    }\n  }]);\n  return Manager;\n}();\nfunction sortByIndex(_ref2, _ref3) {\n  var index1 = _ref2.node.sortableInfo.index;\n  var index2 = _ref3.node.sortableInfo.index;\n  return index1 - index2;\n}\nfunction arrayMove(array, from, to) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof console !== 'undefined') {\n      console.warn(\"Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move\");\n    }\n  }\n  array = array.slice();\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n  return array;\n}\nfunction omit(obj, keysToOmit) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\nvar events = {\n  end: ['touchend', 'touchcancel', 'mouseup'],\n  move: ['touchmove', 'mousemove'],\n  start: ['touchstart', 'mousedown']\n};\nvar vendorPrefix = function () {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return '';\n  }\n  var styles = window.getComputedStyle(document.documentElement, '') || ['-moz-hidden-iframe'];\n  var pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n  switch (pre) {\n    case 'ms':\n      return 'ms';\n    default:\n      return pre && pre.length ? pre[0].toUpperCase() + pre.substr(1) : '';\n  }\n}();\nfunction setInlineStyles(node, styles) {\n  Object.keys(styles).forEach(function (key) {\n    node.style[key] = styles[key];\n  });\n}\nfunction setTranslate3d(node, translate) {\n  node.style[\"\".concat(vendorPrefix, \"Transform\")] = translate == null ? '' : \"translate3d(\".concat(translate.x, \"px,\").concat(translate.y, \"px,0)\");\n}\nfunction setTransitionDuration(node, duration) {\n  node.style[\"\".concat(vendorPrefix, \"TransitionDuration\")] = duration == null ? '' : \"\".concat(duration, \"ms\");\n}\nfunction closest(el, fn) {\n  while (el) {\n    if (fn(el)) {\n      return el;\n    }\n    el = el.parentNode;\n  }\n  return null;\n}\nfunction limit(min, max, value) {\n  return Math.max(min, Math.min(value, max));\n}\nfunction getPixelValue(stringValue) {\n  if (stringValue.substr(-2) === 'px') {\n    return parseFloat(stringValue);\n  }\n  return 0;\n}\nfunction getElementMargin(element) {\n  var style = window.getComputedStyle(element);\n  return {\n    bottom: getPixelValue(style.marginBottom),\n    left: getPixelValue(style.marginLeft),\n    right: getPixelValue(style.marginRight),\n    top: getPixelValue(style.marginTop)\n  };\n}\nfunction provideDisplayName(prefix, Component) {\n  var componentName = Component.displayName || Component.name;\n  return componentName ? \"\".concat(prefix, \"(\").concat(componentName, \")\") : prefix;\n}\nfunction getScrollAdjustedBoundingClientRect(node, scrollDelta) {\n  var boundingClientRect = node.getBoundingClientRect();\n  return {\n    top: boundingClientRect.top + scrollDelta.top,\n    left: boundingClientRect.left + scrollDelta.left\n  };\n}\nfunction getPosition(event) {\n  if (event.touches && event.touches.length) {\n    return {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY\n    };\n  } else if (event.changedTouches && event.changedTouches.length) {\n    return {\n      x: event.changedTouches[0].pageX,\n      y: event.changedTouches[0].pageY\n    };\n  } else {\n    return {\n      x: event.pageX,\n      y: event.pageY\n    };\n  }\n}\nfunction isTouchEvent(event) {\n  return event.touches && event.touches.length || event.changedTouches && event.changedTouches.length;\n}\nfunction getEdgeOffset(node, parent) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    left: 0,\n    top: 0\n  };\n  if (!node) {\n    return undefined;\n  }\n  var nodeOffset = {\n    left: offset.left + node.offsetLeft,\n    top: offset.top + node.offsetTop\n  };\n  if (node.parentNode === parent) {\n    return nodeOffset;\n  }\n  return getEdgeOffset(node.parentNode, parent, nodeOffset);\n}\nfunction getTargetIndex(newIndex, prevIndex, oldIndex) {\n  if (newIndex < oldIndex && newIndex > prevIndex) {\n    return newIndex - 1;\n  } else if (newIndex > oldIndex && newIndex < prevIndex) {\n    return newIndex + 1;\n  } else {\n    return newIndex;\n  }\n}\nfunction getLockPixelOffset(_ref) {\n  var lockOffset = _ref.lockOffset,\n    width = _ref.width,\n    height = _ref.height;\n  var offsetX = lockOffset;\n  var offsetY = lockOffset;\n  var unit = 'px';\n  if (typeof lockOffset === 'string') {\n    var match = /^[+-]?\\d*(?:\\.\\d*)?(px|%)$/.exec(lockOffset);\n    invariant(match !== null, 'lockOffset value should be a number or a string of a ' + 'number followed by \"px\" or \"%\". Given %s', lockOffset);\n    offsetX = parseFloat(lockOffset);\n    offsetY = parseFloat(lockOffset);\n    unit = match[1];\n  }\n  invariant(isFinite(offsetX) && isFinite(offsetY), 'lockOffset value should be a finite. Given %s', lockOffset);\n  if (unit === '%') {\n    offsetX = offsetX * width / 100;\n    offsetY = offsetY * height / 100;\n  }\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\nfunction getLockPixelOffsets(_ref2) {\n  var height = _ref2.height,\n    width = _ref2.width,\n    lockOffset = _ref2.lockOffset;\n  var offsets = Array.isArray(lockOffset) ? lockOffset : [lockOffset, lockOffset];\n  invariant(offsets.length === 2, 'lockOffset prop of SortableContainer should be a single ' + 'value or an array of exactly two values. Given %s', lockOffset);\n  var _offsets = _slicedToArray(offsets, 2),\n    minLockOffset = _offsets[0],\n    maxLockOffset = _offsets[1];\n  return [getLockPixelOffset({\n    height: height,\n    lockOffset: minLockOffset,\n    width: width\n  }), getLockPixelOffset({\n    height: height,\n    lockOffset: maxLockOffset,\n    width: width\n  })];\n}\nfunction isScrollable(el) {\n  var computedStyle = window.getComputedStyle(el);\n  var overflowRegex = /(auto|scroll)/;\n  var properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.find(function (property) {\n    return overflowRegex.test(computedStyle[property]);\n  });\n}\nfunction getScrollingParent(el) {\n  if (!(el instanceof HTMLElement)) {\n    return null;\n  } else if (isScrollable(el)) {\n    return el;\n  } else {\n    return getScrollingParent(el.parentNode);\n  }\n}\nfunction getContainerGridGap(element) {\n  var style = window.getComputedStyle(element);\n  if (style.display === 'grid') {\n    return {\n      x: getPixelValue(style.gridColumnGap),\n      y: getPixelValue(style.gridRowGap)\n    };\n  }\n  return {\n    x: 0,\n    y: 0\n  };\n}\nvar KEYCODE = {\n  TAB: 9,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\nvar NodeType = {\n  Anchor: 'A',\n  Button: 'BUTTON',\n  Canvas: 'CANVAS',\n  Input: 'INPUT',\n  Option: 'OPTION',\n  Textarea: 'TEXTAREA',\n  Select: 'SELECT'\n};\nfunction cloneNode(node) {\n  var selector = 'input, textarea, select, canvas, [contenteditable]';\n  var fields = node.querySelectorAll(selector);\n  var clonedNode = node.cloneNode(true);\n  var clonedFields = _toConsumableArray(clonedNode.querySelectorAll(selector));\n  clonedFields.forEach(function (field, i) {\n    if (field.type !== 'file') {\n      field.value = fields[i].value;\n    }\n    if (field.type === 'radio' && field.name) {\n      field.name = \"__sortableClone__\".concat(field.name);\n    }\n    if (field.tagName === NodeType.Canvas && fields[i].width > 0 && fields[i].height > 0) {\n      var destCtx = field.getContext('2d');\n      destCtx.drawImage(fields[i], 0, 0);\n    }\n  });\n  return clonedNode;\n}\nfunction sortableHandle(WrappedComponent) {\n  var _class, _temp;\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableHandle, _React$Component);\n    function WithSortableHandle() {\n      var _getPrototypeOf2;\n      var _this;\n      _classCallCheck(this, WithSortableHandle);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithSortableHandle)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"wrappedInstance\", React.createRef());\n      return _this;\n    }\n    _createClass(WithSortableHandle, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var node = reactDom.findDOMNode(this);\n        node.sortableHandle = true;\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return React.createElement(WrappedComponent, _extends({\n          ref: ref\n        }, this.props));\n      }\n    }]);\n    return WithSortableHandle;\n  }(React.Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableHandle', WrappedComponent)), _temp;\n}\nfunction isSortableHandle(node) {\n  return node.sortableHandle != null;\n}\nvar AutoScroller = function () {\n  function AutoScroller(container, onScrollCallback) {\n    _classCallCheck(this, AutoScroller);\n    this.container = container;\n    this.onScrollCallback = onScrollCallback;\n  }\n  _createClass(AutoScroller, [{\n    key: \"clear\",\n    value: function clear() {\n      if (this.interval == null) {\n        return;\n      }\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var _this = this;\n      var translate = _ref.translate,\n        minTranslate = _ref.minTranslate,\n        maxTranslate = _ref.maxTranslate,\n        width = _ref.width,\n        height = _ref.height;\n      var direction = {\n        x: 0,\n        y: 0\n      };\n      var speed = {\n        x: 1,\n        y: 1\n      };\n      var acceleration = {\n        x: 10,\n        y: 10\n      };\n      var _this$container = this.container,\n        scrollTop = _this$container.scrollTop,\n        scrollLeft = _this$container.scrollLeft,\n        scrollHeight = _this$container.scrollHeight,\n        scrollWidth = _this$container.scrollWidth,\n        clientHeight = _this$container.clientHeight,\n        clientWidth = _this$container.clientWidth;\n      var isTop = scrollTop === 0;\n      var isBottom = scrollHeight - scrollTop - clientHeight === 0;\n      var isLeft = scrollLeft === 0;\n      var isRight = scrollWidth - scrollLeft - clientWidth === 0;\n      if (translate.y >= maxTranslate.y - height / 2 && !isBottom) {\n        direction.y = 1;\n        speed.y = acceleration.y * Math.abs((maxTranslate.y - height / 2 - translate.y) / height);\n      } else if (translate.x >= maxTranslate.x - width / 2 && !isRight) {\n        direction.x = 1;\n        speed.x = acceleration.x * Math.abs((maxTranslate.x - width / 2 - translate.x) / width);\n      } else if (translate.y <= minTranslate.y + height / 2 && !isTop) {\n        direction.y = -1;\n        speed.y = acceleration.y * Math.abs((translate.y - height / 2 - minTranslate.y) / height);\n      } else if (translate.x <= minTranslate.x + width / 2 && !isLeft) {\n        direction.x = -1;\n        speed.x = acceleration.x * Math.abs((translate.x - width / 2 - minTranslate.x) / width);\n      }\n      if (this.interval) {\n        this.clear();\n        this.isAutoScrolling = false;\n      }\n      if (direction.x !== 0 || direction.y !== 0) {\n        this.interval = setInterval(function () {\n          _this.isAutoScrolling = true;\n          var offset = {\n            left: speed.x * direction.x,\n            top: speed.y * direction.y\n          };\n          _this.container.scrollTop += offset.top;\n          _this.container.scrollLeft += offset.left;\n          _this.onScrollCallback(offset);\n        }, 5);\n      }\n    }\n  }]);\n  return AutoScroller;\n}();\nfunction defaultGetHelperDimensions(_ref) {\n  var node = _ref.node;\n  return {\n    height: node.offsetHeight,\n    width: node.offsetWidth\n  };\n}\nfunction defaultShouldCancelStart(event) {\n  var interactiveElements = [NodeType.Input, NodeType.Textarea, NodeType.Select, NodeType.Option, NodeType.Button];\n  if (interactiveElements.indexOf(event.target.tagName) !== -1) {\n    return true;\n  }\n  if (closest(event.target, function (el) {\n    return el.contentEditable === 'true';\n  })) {\n    return true;\n  }\n  return false;\n}\nvar propTypes = {\n  axis: PropTypes.oneOf(['x', 'y', 'xy']),\n  contentWindow: PropTypes.any,\n  disableAutoscroll: PropTypes.bool,\n  distance: PropTypes.number,\n  getContainer: PropTypes.func,\n  getHelperDimensions: PropTypes.func,\n  helperClass: PropTypes.string,\n  helperContainer: PropTypes.oneOfType([PropTypes.func, typeof HTMLElement === 'undefined' ? PropTypes.any : PropTypes.instanceOf(HTMLElement)]),\n  hideSortableGhost: PropTypes.bool,\n  keyboardSortingTransitionDuration: PropTypes.number,\n  lockAxis: PropTypes.string,\n  lockOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  lockToContainerEdges: PropTypes.bool,\n  onSortEnd: PropTypes.func,\n  onSortMove: PropTypes.func,\n  onSortOver: PropTypes.func,\n  onSortStart: PropTypes.func,\n  pressDelay: PropTypes.number,\n  pressThreshold: PropTypes.number,\n  keyCodes: PropTypes.shape({\n    lift: PropTypes.arrayOf(PropTypes.number),\n    drop: PropTypes.arrayOf(PropTypes.number),\n    cancel: PropTypes.arrayOf(PropTypes.number),\n    up: PropTypes.arrayOf(PropTypes.number),\n    down: PropTypes.arrayOf(PropTypes.number)\n  }),\n  shouldCancelStart: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  updateBeforeSortStart: PropTypes.func,\n  useDragHandle: PropTypes.bool,\n  useWindowAsScrollContainer: PropTypes.bool\n};\nvar defaultKeyCodes = {\n  lift: [KEYCODE.SPACE],\n  drop: [KEYCODE.SPACE],\n  cancel: [KEYCODE.ESC],\n  up: [KEYCODE.UP, KEYCODE.LEFT],\n  down: [KEYCODE.DOWN, KEYCODE.RIGHT]\n};\nvar defaultProps = {\n  axis: 'y',\n  disableAutoscroll: false,\n  distance: 0,\n  getHelperDimensions: defaultGetHelperDimensions,\n  hideSortableGhost: true,\n  lockOffset: '50%',\n  lockToContainerEdges: false,\n  pressDelay: 0,\n  pressThreshold: 5,\n  keyCodes: defaultKeyCodes,\n  shouldCancelStart: defaultShouldCancelStart,\n  transitionDuration: 300,\n  useWindowAsScrollContainer: false\n};\nvar omittedProps = Object.keys(propTypes);\nfunction validateProps(props) {\n  invariant(!(props.distance && props.pressDelay), 'Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.');\n}\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n  return finalizer(false, value);\n}\nvar SortableContext = React.createContext({\n  manager: {}\n});\nfunction sortableContainer(WrappedComponent) {\n  var _class, _temp;\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableContainer, _React$Component);\n    function WithSortableContainer(props) {\n      var _this;\n      _classCallCheck(this, WithSortableContainer);\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSortableContainer).call(this, props));\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleStart\", function (event) {\n        var _this$props = _this.props,\n          distance = _this$props.distance,\n          shouldCancelStart = _this$props.shouldCancelStart;\n        if (event.button === 2 || shouldCancelStart(event)) {\n          return;\n        }\n        _this.touched = true;\n        _this.position = getPosition(event);\n        var node = closest(event.target, function (el) {\n          return el.sortableInfo != null;\n        });\n        if (node && node.sortableInfo && _this.nodeIsChild(node) && !_this.state.sorting) {\n          var useDragHandle = _this.props.useDragHandle;\n          var _node$sortableInfo = node.sortableInfo,\n            index = _node$sortableInfo.index,\n            collection = _node$sortableInfo.collection,\n            disabled = _node$sortableInfo.disabled;\n          if (disabled) {\n            return;\n          }\n          if (useDragHandle && !closest(event.target, isSortableHandle)) {\n            return;\n          }\n          _this.manager.active = {\n            collection: collection,\n            index: index\n          };\n          if (!isTouchEvent(event) && event.target.tagName === NodeType.Anchor) {\n            event.preventDefault();\n          }\n          if (!distance) {\n            if (_this.props.pressDelay === 0) {\n              _this.handlePress(event);\n            } else {\n              _this.pressTimer = setTimeout(function () {\n                return _this.handlePress(event);\n              }, _this.props.pressDelay);\n            }\n          }\n        }\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nodeIsChild\", function (node) {\n        return node.sortableInfo.manager === _this.manager;\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMove\", function (event) {\n        var _this$props2 = _this.props,\n          distance = _this$props2.distance,\n          pressThreshold = _this$props2.pressThreshold;\n        if (!_this.state.sorting && _this.touched && !_this._awaitingUpdateBeforeSortStart) {\n          var position = getPosition(event);\n          var delta = {\n            x: _this.position.x - position.x,\n            y: _this.position.y - position.y\n          };\n          var combinedDelta = Math.abs(delta.x) + Math.abs(delta.y);\n          _this.delta = delta;\n          if (!distance && (!pressThreshold || combinedDelta >= pressThreshold)) {\n            clearTimeout(_this.cancelTimer);\n            _this.cancelTimer = setTimeout(_this.cancel, 0);\n          } else if (distance && combinedDelta >= distance && _this.manager.isActive()) {\n            _this.handlePress(event);\n          }\n        }\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleEnd\", function () {\n        _this.touched = false;\n        _this.cancel();\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"cancel\", function () {\n        var distance = _this.props.distance;\n        var sorting = _this.state.sorting;\n        if (!sorting) {\n          if (!distance) {\n            clearTimeout(_this.pressTimer);\n          }\n          _this.manager.active = null;\n        }\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePress\", function (event) {\n        try {\n          var active = _this.manager.getActive();\n          var _temp6 = function () {\n            if (active) {\n              var _temp7 = function _temp7() {\n                var index = _node.sortableInfo.index;\n                var margin = getElementMargin(_node);\n                var gridGap = getContainerGridGap(_this.container);\n                var containerBoundingRect = _this.scrollContainer.getBoundingClientRect();\n                var dimensions = _getHelperDimensions({\n                  index: index,\n                  node: _node,\n                  collection: _collection\n                });\n                _this.node = _node;\n                _this.margin = margin;\n                _this.gridGap = gridGap;\n                _this.width = dimensions.width;\n                _this.height = dimensions.height;\n                _this.marginOffset = {\n                  x: _this.margin.left + _this.margin.right + _this.gridGap.x,\n                  y: Math.max(_this.margin.top, _this.margin.bottom, _this.gridGap.y)\n                };\n                _this.boundingClientRect = _node.getBoundingClientRect();\n                _this.containerBoundingRect = containerBoundingRect;\n                _this.index = index;\n                _this.newIndex = index;\n                _this.axis = {\n                  x: _axis.indexOf('x') >= 0,\n                  y: _axis.indexOf('y') >= 0\n                };\n                _this.offsetEdge = getEdgeOffset(_node, _this.container);\n                if (_isKeySorting) {\n                  _this.initialOffset = getPosition(_objectSpread({}, event, {\n                    pageX: _this.boundingClientRect.left,\n                    pageY: _this.boundingClientRect.top\n                  }));\n                } else {\n                  _this.initialOffset = getPosition(event);\n                }\n                _this.initialScroll = {\n                  left: _this.scrollContainer.scrollLeft,\n                  top: _this.scrollContainer.scrollTop\n                };\n                _this.initialWindowScroll = {\n                  left: window.pageXOffset,\n                  top: window.pageYOffset\n                };\n                _this.helper = _this.helperContainer.appendChild(cloneNode(_node));\n                setInlineStyles(_this.helper, {\n                  boxSizing: 'border-box',\n                  height: \"\".concat(_this.height, \"px\"),\n                  left: \"\".concat(_this.boundingClientRect.left - margin.left, \"px\"),\n                  pointerEvents: 'none',\n                  position: 'fixed',\n                  top: \"\".concat(_this.boundingClientRect.top - margin.top, \"px\"),\n                  width: \"\".concat(_this.width, \"px\")\n                });\n                if (_isKeySorting) {\n                  _this.helper.focus();\n                }\n                if (_hideSortableGhost) {\n                  _this.sortableGhost = _node;\n                  setInlineStyles(_node, {\n                    opacity: 0,\n                    visibility: 'hidden'\n                  });\n                }\n                _this.minTranslate = {};\n                _this.maxTranslate = {};\n                if (_isKeySorting) {\n                  var _ref = _useWindowAsScrollContainer ? {\n                      top: 0,\n                      left: 0,\n                      width: _this.contentWindow.innerWidth,\n                      height: _this.contentWindow.innerHeight\n                    } : _this.containerBoundingRect,\n                    containerTop = _ref.top,\n                    containerLeft = _ref.left,\n                    containerWidth = _ref.width,\n                    containerHeight = _ref.height;\n                  var containerBottom = containerTop + containerHeight;\n                  var containerRight = containerLeft + containerWidth;\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = containerLeft - _this.boundingClientRect.left;\n                    _this.maxTranslate.x = containerRight - (_this.boundingClientRect.left + _this.width);\n                  }\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = containerTop - _this.boundingClientRect.top;\n                    _this.maxTranslate.y = containerBottom - (_this.boundingClientRect.top + _this.height);\n                  }\n                } else {\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.left) - _this.boundingClientRect.left - _this.width / 2;\n                    _this.maxTranslate.x = (_useWindowAsScrollContainer ? _this.contentWindow.innerWidth : containerBoundingRect.left + containerBoundingRect.width) - _this.boundingClientRect.left - _this.width / 2;\n                  }\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.top) - _this.boundingClientRect.top - _this.height / 2;\n                    _this.maxTranslate.y = (_useWindowAsScrollContainer ? _this.contentWindow.innerHeight : containerBoundingRect.top + containerBoundingRect.height) - _this.boundingClientRect.top - _this.height / 2;\n                  }\n                }\n                if (_helperClass) {\n                  _helperClass.split(' ').forEach(function (className) {\n                    return _this.helper.classList.add(className);\n                  });\n                }\n                _this.listenerNode = event.touches ? event.target : _this.contentWindow;\n                if (_isKeySorting) {\n                  _this.listenerNode.addEventListener('wheel', _this.handleKeyEnd, true);\n                  _this.listenerNode.addEventListener('mousedown', _this.handleKeyEnd, true);\n                  _this.listenerNode.addEventListener('keydown', _this.handleKeyDown);\n                } else {\n                  events.move.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortMove, false);\n                  });\n                  events.end.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortEnd, false);\n                  });\n                }\n                _this.setState({\n                  sorting: true,\n                  sortingIndex: index\n                });\n                if (_onSortStart) {\n                  _onSortStart({\n                    node: _node,\n                    index: index,\n                    collection: _collection,\n                    isKeySorting: _isKeySorting,\n                    nodes: _this.manager.getOrderedRefs(),\n                    helper: _this.helper\n                  }, event);\n                }\n                if (_isKeySorting) {\n                  _this.keyMove(0);\n                }\n              };\n              var _this$props3 = _this.props,\n                _axis = _this$props3.axis,\n                _getHelperDimensions = _this$props3.getHelperDimensions,\n                _helperClass = _this$props3.helperClass,\n                _hideSortableGhost = _this$props3.hideSortableGhost,\n                updateBeforeSortStart = _this$props3.updateBeforeSortStart,\n                _onSortStart = _this$props3.onSortStart,\n                _useWindowAsScrollContainer = _this$props3.useWindowAsScrollContainer;\n              var _node = active.node,\n                _collection = active.collection;\n              var _isKeySorting = _this.manager.isKeySorting;\n              var _temp8 = function () {\n                if (typeof updateBeforeSortStart === 'function') {\n                  _this._awaitingUpdateBeforeSortStart = true;\n                  var _temp9 = _finallyRethrows(function () {\n                    var index = _node.sortableInfo.index;\n                    return Promise.resolve(updateBeforeSortStart({\n                      collection: _collection,\n                      index: index,\n                      node: _node,\n                      isKeySorting: _isKeySorting\n                    }, event)).then(function () {});\n                  }, function (_wasThrown, _result) {\n                    _this._awaitingUpdateBeforeSortStart = false;\n                    if (_wasThrown) throw _result;\n                    return _result;\n                  });\n                  if (_temp9 && _temp9.then) return _temp9.then(function () {});\n                }\n              }();\n              return _temp8 && _temp8.then ? _temp8.then(_temp7) : _temp7(_temp8);\n            }\n          }();\n          return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortMove\", function (event) {\n        var onSortMove = _this.props.onSortMove;\n        if (typeof event.preventDefault === 'function' && event.cancelable) {\n          event.preventDefault();\n        }\n        _this.updateHelperPosition(event);\n        _this.animateNodes();\n        _this.autoscroll();\n        if (onSortMove) {\n          onSortMove(event);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortEnd\", function (event) {\n        var _this$props4 = _this.props,\n          hideSortableGhost = _this$props4.hideSortableGhost,\n          onSortEnd = _this$props4.onSortEnd;\n        var _this$manager = _this.manager,\n          collection = _this$manager.active.collection,\n          isKeySorting = _this$manager.isKeySorting;\n        var nodes = _this.manager.getOrderedRefs();\n        if (_this.listenerNode) {\n          if (isKeySorting) {\n            _this.listenerNode.removeEventListener('wheel', _this.handleKeyEnd, true);\n            _this.listenerNode.removeEventListener('mousedown', _this.handleKeyEnd, true);\n            _this.listenerNode.removeEventListener('keydown', _this.handleKeyDown);\n          } else {\n            events.move.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortMove);\n            });\n            events.end.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortEnd);\n            });\n          }\n        }\n        _this.helper.parentNode.removeChild(_this.helper);\n        if (hideSortableGhost && _this.sortableGhost) {\n          setInlineStyles(_this.sortableGhost, {\n            opacity: '',\n            visibility: ''\n          });\n        }\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node2 = nodes[i];\n          var el = _node2.node;\n          _node2.edgeOffset = null;\n          _node2.boundingClientRect = null;\n          setTranslate3d(el, null);\n          setTransitionDuration(el, null);\n          _node2.translate = null;\n        }\n        _this.autoScroller.clear();\n        _this.manager.active = null;\n        _this.manager.isKeySorting = false;\n        _this.setState({\n          sorting: false,\n          sortingIndex: null\n        });\n        if (typeof onSortEnd === 'function') {\n          onSortEnd({\n            collection: collection,\n            newIndex: _this.newIndex,\n            oldIndex: _this.index,\n            isKeySorting: isKeySorting,\n            nodes: nodes\n          }, event);\n        }\n        _this.touched = false;\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"autoscroll\", function () {\n        var disableAutoscroll = _this.props.disableAutoscroll;\n        var isKeySorting = _this.manager.isKeySorting;\n        if (disableAutoscroll) {\n          _this.autoScroller.clear();\n          return;\n        }\n        if (isKeySorting) {\n          var translate = _objectSpread({}, _this.translate);\n          var scrollX = 0;\n          var scrollY = 0;\n          if (_this.axis.x) {\n            translate.x = Math.min(_this.maxTranslate.x, Math.max(_this.minTranslate.x, _this.translate.x));\n            scrollX = _this.translate.x - translate.x;\n          }\n          if (_this.axis.y) {\n            translate.y = Math.min(_this.maxTranslate.y, Math.max(_this.minTranslate.y, _this.translate.y));\n            scrollY = _this.translate.y - translate.y;\n          }\n          _this.translate = translate;\n          setTranslate3d(_this.helper, _this.translate);\n          _this.scrollContainer.scrollLeft += scrollX;\n          _this.scrollContainer.scrollTop += scrollY;\n          return;\n        }\n        _this.autoScroller.update({\n          height: _this.height,\n          maxTranslate: _this.maxTranslate,\n          minTranslate: _this.minTranslate,\n          translate: _this.translate,\n          width: _this.width\n        });\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onAutoScroll\", function (offset) {\n        _this.translate.x += offset.left;\n        _this.translate.y += offset.top;\n        _this.animateNodes();\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (event) {\n        var keyCode = event.keyCode;\n        var _this$props5 = _this.props,\n          shouldCancelStart = _this$props5.shouldCancelStart,\n          _this$props5$keyCodes = _this$props5.keyCodes,\n          customKeyCodes = _this$props5$keyCodes === void 0 ? {} : _this$props5$keyCodes;\n        var keyCodes = _objectSpread({}, defaultKeyCodes, customKeyCodes);\n        if (_this.manager.active && !_this.manager.isKeySorting || !_this.manager.active && (!keyCodes.lift.includes(keyCode) || shouldCancelStart(event) || !_this.isValidSortingTarget(event))) {\n          return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        if (keyCodes.lift.includes(keyCode) && !_this.manager.active) {\n          _this.keyLift(event);\n        } else if (keyCodes.drop.includes(keyCode) && _this.manager.active) {\n          _this.keyDrop(event);\n        } else if (keyCodes.cancel.includes(keyCode)) {\n          _this.newIndex = _this.manager.active.index;\n          _this.keyDrop(event);\n        } else if (keyCodes.up.includes(keyCode)) {\n          _this.keyMove(-1);\n        } else if (keyCodes.down.includes(keyCode)) {\n          _this.keyMove(1);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyLift\", function (event) {\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        var _node$sortableInfo2 = node.sortableInfo,\n          index = _node$sortableInfo2.index,\n          collection = _node$sortableInfo2.collection;\n        _this.initialFocusedNode = target;\n        _this.manager.isKeySorting = true;\n        _this.manager.active = {\n          index: index,\n          collection: collection\n        };\n        _this.handlePress(event);\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyMove\", function (shift) {\n        var nodes = _this.manager.getOrderedRefs();\n        var lastIndex = nodes[nodes.length - 1].node.sortableInfo.index;\n        var newIndex = _this.newIndex + shift;\n        var prevIndex = _this.newIndex;\n        if (newIndex < 0 || newIndex > lastIndex) {\n          return;\n        }\n        _this.prevIndex = prevIndex;\n        _this.newIndex = newIndex;\n        var targetIndex = getTargetIndex(_this.newIndex, _this.prevIndex, _this.index);\n        var target = nodes.find(function (_ref2) {\n          var node = _ref2.node;\n          return node.sortableInfo.index === targetIndex;\n        });\n        var targetNode = target.node;\n        var scrollDelta = _this.containerScrollDelta;\n        var targetBoundingClientRect = target.boundingClientRect || getScrollAdjustedBoundingClientRect(targetNode, scrollDelta);\n        var targetTranslate = target.translate || {\n          x: 0,\n          y: 0\n        };\n        var targetPosition = {\n          top: targetBoundingClientRect.top + targetTranslate.y - scrollDelta.top,\n          left: targetBoundingClientRect.left + targetTranslate.x - scrollDelta.left\n        };\n        var shouldAdjustForSize = prevIndex < newIndex;\n        var sizeAdjustment = {\n          x: shouldAdjustForSize && _this.axis.x ? targetNode.offsetWidth - _this.width : 0,\n          y: shouldAdjustForSize && _this.axis.y ? targetNode.offsetHeight - _this.height : 0\n        };\n        _this.handleSortMove({\n          pageX: targetPosition.left + sizeAdjustment.x,\n          pageY: targetPosition.top + sizeAdjustment.y,\n          ignoreTransition: shift === 0\n        });\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyDrop\", function (event) {\n        _this.handleSortEnd(event);\n        if (_this.initialFocusedNode) {\n          _this.initialFocusedNode.focus();\n        }\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyEnd\", function (event) {\n        if (_this.manager.active) {\n          _this.keyDrop(event);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isValidSortingTarget\", function (event) {\n        var useDragHandle = _this.props.useDragHandle;\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        return node && node.sortableInfo && !node.sortableInfo.disabled && (useDragHandle ? isSortableHandle(target) : target.sortableInfo);\n      });\n      var manager = new Manager();\n      validateProps(props);\n      _this.manager = manager;\n      _this.wrappedInstance = React.createRef();\n      _this.sortableContextValue = {\n        manager: manager\n      };\n      _this.events = {\n        end: _this.handleEnd,\n        move: _this.handleMove,\n        start: _this.handleStart\n      };\n      return _this;\n    }\n    _createClass(WithSortableContainer, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        var container = this.getContainer();\n        Promise.resolve(container).then(function (containerNode) {\n          _this2.container = containerNode;\n          _this2.document = _this2.container.ownerDocument || document;\n          var contentWindow = _this2.props.contentWindow || _this2.document.defaultView || window;\n          _this2.contentWindow = typeof contentWindow === 'function' ? contentWindow() : contentWindow;\n          _this2.scrollContainer = useWindowAsScrollContainer ? _this2.document.scrollingElement || _this2.document.documentElement : getScrollingParent(_this2.container) || _this2.container;\n          _this2.autoScroller = new AutoScroller(_this2.scrollContainer, _this2.onAutoScroll);\n          Object.keys(_this2.events).forEach(function (key) {\n            return events[key].forEach(function (eventName) {\n              return _this2.container.addEventListener(eventName, _this2.events[key], false);\n            });\n          });\n          _this2.container.addEventListener('keydown', _this2.handleKeyDown);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this3 = this;\n        if (this.helper && this.helper.parentNode) {\n          this.helper.parentNode.removeChild(this.helper);\n        }\n        if (!this.container) {\n          return;\n        }\n        Object.keys(this.events).forEach(function (key) {\n          return events[key].forEach(function (eventName) {\n            return _this3.container.removeEventListener(eventName, _this3.events[key]);\n          });\n        });\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"updateHelperPosition\",\n      value: function updateHelperPosition(event) {\n        var _this$props6 = this.props,\n          lockAxis = _this$props6.lockAxis,\n          lockOffset = _this$props6.lockOffset,\n          lockToContainerEdges = _this$props6.lockToContainerEdges,\n          transitionDuration = _this$props6.transitionDuration,\n          _this$props6$keyboard = _this$props6.keyboardSortingTransitionDuration,\n          keyboardSortingTransitionDuration = _this$props6$keyboard === void 0 ? transitionDuration : _this$props6$keyboard;\n        var isKeySorting = this.manager.isKeySorting;\n        var ignoreTransition = event.ignoreTransition;\n        var offset = getPosition(event);\n        var translate = {\n          x: offset.x - this.initialOffset.x,\n          y: offset.y - this.initialOffset.y\n        };\n        translate.y -= window.pageYOffset - this.initialWindowScroll.top;\n        translate.x -= window.pageXOffset - this.initialWindowScroll.left;\n        this.translate = translate;\n        if (lockToContainerEdges) {\n          var _getLockPixelOffsets = getLockPixelOffsets({\n              height: this.height,\n              lockOffset: lockOffset,\n              width: this.width\n            }),\n            _getLockPixelOffsets2 = _slicedToArray(_getLockPixelOffsets, 2),\n            minLockOffset = _getLockPixelOffsets2[0],\n            maxLockOffset = _getLockPixelOffsets2[1];\n          var minOffset = {\n            x: this.width / 2 - minLockOffset.x,\n            y: this.height / 2 - minLockOffset.y\n          };\n          var maxOffset = {\n            x: this.width / 2 - maxLockOffset.x,\n            y: this.height / 2 - maxLockOffset.y\n          };\n          translate.x = limit(this.minTranslate.x + minOffset.x, this.maxTranslate.x - maxOffset.x, translate.x);\n          translate.y = limit(this.minTranslate.y + minOffset.y, this.maxTranslate.y - maxOffset.y, translate.y);\n        }\n        if (lockAxis === 'x') {\n          translate.y = 0;\n        } else if (lockAxis === 'y') {\n          translate.x = 0;\n        }\n        if (isKeySorting && keyboardSortingTransitionDuration && !ignoreTransition) {\n          setTransitionDuration(this.helper, keyboardSortingTransitionDuration);\n        }\n        setTranslate3d(this.helper, translate);\n      }\n    }, {\n      key: \"animateNodes\",\n      value: function animateNodes() {\n        var _this$props7 = this.props,\n          transitionDuration = _this$props7.transitionDuration,\n          hideSortableGhost = _this$props7.hideSortableGhost,\n          onSortOver = _this$props7.onSortOver;\n        var containerScrollDelta = this.containerScrollDelta,\n          windowScrollDelta = this.windowScrollDelta;\n        var nodes = this.manager.getOrderedRefs();\n        var sortingOffset = {\n          left: this.offsetEdge.left + this.translate.x + containerScrollDelta.left,\n          top: this.offsetEdge.top + this.translate.y + containerScrollDelta.top\n        };\n        var isKeySorting = this.manager.isKeySorting;\n        var prevIndex = this.newIndex;\n        this.newIndex = null;\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node3 = nodes[i].node;\n          var index = _node3.sortableInfo.index;\n          var width = _node3.offsetWidth;\n          var height = _node3.offsetHeight;\n          var offset = {\n            height: this.height > height ? height / 2 : this.height / 2,\n            width: this.width > width ? width / 2 : this.width / 2\n          };\n          var mustShiftBackward = isKeySorting && index > this.index && index <= prevIndex;\n          var mustShiftForward = isKeySorting && index < this.index && index >= prevIndex;\n          var translate = {\n            x: 0,\n            y: 0\n          };\n          var edgeOffset = nodes[i].edgeOffset;\n          if (!edgeOffset) {\n            edgeOffset = getEdgeOffset(_node3, this.container);\n            nodes[i].edgeOffset = edgeOffset;\n            if (isKeySorting) {\n              nodes[i].boundingClientRect = getScrollAdjustedBoundingClientRect(_node3, containerScrollDelta);\n            }\n          }\n          var nextNode = i < nodes.length - 1 && nodes[i + 1];\n          var prevNode = i > 0 && nodes[i - 1];\n          if (nextNode && !nextNode.edgeOffset) {\n            nextNode.edgeOffset = getEdgeOffset(nextNode.node, this.container);\n            if (isKeySorting) {\n              nextNode.boundingClientRect = getScrollAdjustedBoundingClientRect(nextNode.node, containerScrollDelta);\n            }\n          }\n          if (index === this.index) {\n            if (hideSortableGhost) {\n              this.sortableGhost = _node3;\n              setInlineStyles(_node3, {\n                opacity: 0,\n                visibility: 'hidden'\n              });\n            }\n            continue;\n          }\n          if (transitionDuration) {\n            setTransitionDuration(_node3, transitionDuration);\n          }\n          if (this.axis.x) {\n            if (this.axis.y) {\n              if (mustShiftForward || index < this.index && (sortingOffset.left + windowScrollDelta.left - offset.width <= edgeOffset.left && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height || sortingOffset.top + windowScrollDelta.top + offset.height <= edgeOffset.top)) {\n                translate.x = this.width + this.marginOffset.x;\n                if (edgeOffset.left + translate.x > this.containerBoundingRect.width - offset.width) {\n                  if (nextNode) {\n                    translate.x = nextNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = nextNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n                if (this.newIndex === null) {\n                  this.newIndex = index;\n                }\n              } else if (mustShiftBackward || index > this.index && (sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top || sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top + height)) {\n                translate.x = -(this.width + this.marginOffset.x);\n                if (edgeOffset.left + translate.x < this.containerBoundingRect.left + offset.width) {\n                  if (prevNode) {\n                    translate.x = prevNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = prevNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n                this.newIndex = index;\n              }\n            } else {\n              if (mustShiftBackward || index > this.index && sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left) {\n                translate.x = -(this.width + this.marginOffset.x);\n                this.newIndex = index;\n              } else if (mustShiftForward || index < this.index && sortingOffset.left + windowScrollDelta.left <= edgeOffset.left + offset.width) {\n                translate.x = this.width + this.marginOffset.x;\n                if (this.newIndex == null) {\n                  this.newIndex = index;\n                }\n              }\n            }\n          } else if (this.axis.y) {\n            if (mustShiftBackward || index > this.index && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top) {\n              translate.y = -(this.height + this.marginOffset.y);\n              this.newIndex = index;\n            } else if (mustShiftForward || index < this.index && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height) {\n              translate.y = this.height + this.marginOffset.y;\n              if (this.newIndex == null) {\n                this.newIndex = index;\n              }\n            }\n          }\n          setTranslate3d(_node3, translate);\n          nodes[i].translate = translate;\n        }\n        if (this.newIndex == null) {\n          this.newIndex = this.index;\n        }\n        if (isKeySorting) {\n          this.newIndex = prevIndex;\n        }\n        var oldIndex = isKeySorting ? this.prevIndex : prevIndex;\n        if (onSortOver && this.newIndex !== oldIndex) {\n          onSortOver({\n            collection: this.manager.active.collection,\n            index: this.index,\n            newIndex: this.newIndex,\n            oldIndex: oldIndex,\n            isKeySorting: isKeySorting,\n            nodes: nodes,\n            helper: this.helper\n          });\n        }\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"getContainer\",\n      value: function getContainer() {\n        var getContainer = this.props.getContainer;\n        if (typeof getContainer !== 'function') {\n          return reactDom.findDOMNode(this);\n        }\n        return getContainer(config.withRef ? this.getWrappedInstance() : undefined);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return React.createElement(SortableContext.Provider, {\n          value: this.sortableContextValue\n        }, React.createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps))));\n      }\n    }, {\n      key: \"helperContainer\",\n      get: function get() {\n        var helperContainer = this.props.helperContainer;\n        if (typeof helperContainer === 'function') {\n          return helperContainer();\n        }\n        return this.props.helperContainer || this.document.body;\n      }\n    }, {\n      key: \"containerScrollDelta\",\n      get: function get() {\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        if (useWindowAsScrollContainer) {\n          return {\n            left: 0,\n            top: 0\n          };\n        }\n        return {\n          left: this.scrollContainer.scrollLeft - this.initialScroll.left,\n          top: this.scrollContainer.scrollTop - this.initialScroll.top\n        };\n      }\n    }, {\n      key: \"windowScrollDelta\",\n      get: function get() {\n        return {\n          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,\n          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top\n        };\n      }\n    }]);\n    return WithSortableContainer;\n  }(React.Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableList', WrappedComponent)), _defineProperty(_class, \"defaultProps\", defaultProps), _defineProperty(_class, \"propTypes\", propTypes), _temp;\n}\nvar propTypes$1 = {\n  index: PropTypes.number.isRequired,\n  collection: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.bool\n};\nvar omittedProps$1 = Object.keys(propTypes$1);\nfunction sortableElement(WrappedComponent) {\n  var _class, _temp;\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableElement, _React$Component);\n    function WithSortableElement() {\n      var _getPrototypeOf2;\n      var _this;\n      _classCallCheck(this, WithSortableElement);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithSortableElement)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"wrappedInstance\", React.createRef());\n      return _this;\n    }\n    _createClass(WithSortableElement, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.register();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.node) {\n          if (prevProps.index !== this.props.index) {\n            this.node.sortableInfo.index = this.props.index;\n          }\n          if (prevProps.disabled !== this.props.disabled) {\n            this.node.sortableInfo.disabled = this.props.disabled;\n          }\n        }\n        if (prevProps.collection !== this.props.collection) {\n          this.unregister(prevProps.collection);\n          this.register();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unregister();\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        var _this$props = this.props,\n          collection = _this$props.collection,\n          disabled = _this$props.disabled,\n          index = _this$props.index;\n        var node = reactDom.findDOMNode(this);\n        node.sortableInfo = {\n          collection: collection,\n          disabled: disabled,\n          index: index,\n          manager: this.context.manager\n        };\n        this.node = node;\n        this.ref = {\n          node: node\n        };\n        this.context.manager.add(collection, this.ref);\n      }\n    }, {\n      key: \"unregister\",\n      value: function unregister() {\n        var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.collection;\n        this.context.manager.remove(collection, this.ref);\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return React.createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps$1)));\n      }\n    }]);\n    return WithSortableElement;\n  }(React.Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableElement', WrappedComponent)), _defineProperty(_class, \"contextType\", SortableContext), _defineProperty(_class, \"propTypes\", propTypes$1), _defineProperty(_class, \"defaultProps\", {\n    collection: 0\n  }), _temp;\n}\nexports.SortableContainer = sortableContainer;\nexports.sortableContainer = sortableContainer;\nexports.SortableElement = sortableElement;\nexports.sortableElement = sortableElement;\nexports.SortableHandle = sortableHandle;\nexports.sortableHandle = sortableHandle;\nexports.arrayMove = arrayMove;","map":{"version":3,"names":["Object","defineProperty","exports","value","_interopDefault","ex","_extends","require","_slicedToArray","_objectSpread","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_assertThisInitialized","_defineProperty","React","reactDom","invariant","_toConsumableArray","PropTypes","Manager","key","add","collection","ref","refs","push","remove","index","getIndex","splice","isActive","active","getActive","_this","find","_ref","node","sortableInfo","indexOf","getOrderedRefs","arguments","length","undefined","sort","sortByIndex","_ref2","_ref3","index1","index2","arrayMove","array","from","to","process","env","NODE_ENV","console","warn","slice","omit","obj","keysToOmit","keys","reduce","acc","events","end","move","start","vendorPrefix","window","document","styles","getComputedStyle","documentElement","pre","Array","prototype","call","join","match","OLink","toUpperCase","substr","setInlineStyles","forEach","style","setTranslate3d","translate","concat","x","y","setTransitionDuration","duration","closest","el","fn","parentNode","limit","min","max","Math","getPixelValue","stringValue","parseFloat","getElementMargin","element","bottom","marginBottom","left","marginLeft","right","marginRight","top","marginTop","provideDisplayName","prefix","Component","componentName","displayName","name","getScrollAdjustedBoundingClientRect","scrollDelta","boundingClientRect","getBoundingClientRect","getPosition","event","touches","pageX","pageY","changedTouches","isTouchEvent","getEdgeOffset","parent","offset","nodeOffset","offsetLeft","offsetTop","getTargetIndex","newIndex","prevIndex","oldIndex","getLockPixelOffset","lockOffset","width","height","offsetX","offsetY","unit","exec","isFinite","getLockPixelOffsets","offsets","isArray","_offsets","minLockOffset","maxLockOffset","isScrollable","computedStyle","overflowRegex","properties","property","test","getScrollingParent","HTMLElement","getContainerGridGap","display","gridColumnGap","gridRowGap","KEYCODE","TAB","ESC","SPACE","LEFT","UP","RIGHT","DOWN","NodeType","Anchor","Button","Canvas","Input","Option","Textarea","Select","cloneNode","selector","fields","querySelectorAll","clonedNode","clonedFields","field","i","type","tagName","destCtx","getContext","drawImage","sortableHandle","WrappedComponent","_class","_temp","config","withRef","_React$Component","WithSortableHandle","_getPrototypeOf2","_len","args","_key","apply","createRef","componentDidMount","findDOMNode","getWrappedInstance","wrappedInstance","current","render","createElement","props","isSortableHandle","AutoScroller","container","onScrollCallback","clear","interval","clearInterval","update","minTranslate","maxTranslate","direction","speed","acceleration","_this$container","scrollTop","scrollLeft","scrollHeight","scrollWidth","clientHeight","clientWidth","isTop","isBottom","isLeft","isRight","abs","isAutoScrolling","setInterval","defaultGetHelperDimensions","offsetHeight","offsetWidth","defaultShouldCancelStart","interactiveElements","target","contentEditable","propTypes","axis","oneOf","contentWindow","any","disableAutoscroll","bool","distance","number","getContainer","func","getHelperDimensions","helperClass","string","helperContainer","oneOfType","instanceOf","hideSortableGhost","keyboardSortingTransitionDuration","lockAxis","arrayOf","lockToContainerEdges","onSortEnd","onSortMove","onSortOver","onSortStart","pressDelay","pressThreshold","keyCodes","shape","lift","drop","cancel","up","down","shouldCancelStart","transitionDuration","updateBeforeSortStart","useDragHandle","useWindowAsScrollContainer","defaultKeyCodes","defaultProps","omittedProps","validateProps","_finallyRethrows","body","finalizer","result","e","then","bind","SortableContext","createContext","manager","sortableContainer","WithSortableContainer","_this$props","button","touched","position","nodeIsChild","state","sorting","_node$sortableInfo","disabled","preventDefault","handlePress","pressTimer","setTimeout","_this$props2","_awaitingUpdateBeforeSortStart","delta","combinedDelta","clearTimeout","cancelTimer","_temp6","_temp7","_node","margin","gridGap","containerBoundingRect","scrollContainer","dimensions","_getHelperDimensions","_collection","marginOffset","_axis","offsetEdge","_isKeySorting","initialOffset","initialScroll","initialWindowScroll","pageXOffset","pageYOffset","helper","appendChild","boxSizing","pointerEvents","focus","_hideSortableGhost","sortableGhost","opacity","visibility","_useWindowAsScrollContainer","innerWidth","innerHeight","containerTop","containerLeft","containerWidth","containerHeight","containerBottom","containerRight","_helperClass","split","className","classList","listenerNode","addEventListener","handleKeyEnd","handleKeyDown","eventName","handleSortMove","handleSortEnd","setState","sortingIndex","_onSortStart","isKeySorting","nodes","keyMove","_this$props3","_temp8","_temp9","Promise","resolve","_wasThrown","_result","reject","cancelable","updateHelperPosition","animateNodes","autoscroll","_this$props4","_this$manager","removeEventListener","removeChild","len","_node2","edgeOffset","autoScroller","scrollX","scrollY","keyCode","_this$props5","_this$props5$keyCodes","customKeyCodes","includes","isValidSortingTarget","stopPropagation","keyLift","keyDrop","_node$sortableInfo2","initialFocusedNode","shift","lastIndex","targetIndex","targetNode","containerScrollDelta","targetBoundingClientRect","targetTranslate","targetPosition","shouldAdjustForSize","sizeAdjustment","ignoreTransition","sortableContextValue","handleEnd","handleMove","handleStart","_this2","containerNode","ownerDocument","defaultView","scrollingElement","onAutoScroll","componentWillUnmount","_this3","_this$props6","_this$props6$keyboard","_getLockPixelOffsets","_getLockPixelOffsets2","minOffset","maxOffset","_this$props7","windowScrollDelta","sortingOffset","_node3","mustShiftBackward","mustShiftForward","nextNode","prevNode","Provider","get","propTypes$1","isRequired","omittedProps$1","sortableElement","WithSortableElement","register","componentDidUpdate","prevProps","unregister","context","SortableContainer","SortableElement","SortableHandle"],"sources":["/Users/xiaoyang/Desktop/TimelyAI/node_modules/react-sortable-hoc/dist/react-sortable-hoc.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/extends'));\nvar _slicedToArray = _interopDefault(require('@babel/runtime/helpers/slicedToArray'));\nvar _objectSpread = _interopDefault(require('@babel/runtime/helpers/objectSpread'));\nvar _classCallCheck = _interopDefault(require('@babel/runtime/helpers/classCallCheck'));\nvar _createClass = _interopDefault(require('@babel/runtime/helpers/createClass'));\nvar _possibleConstructorReturn = _interopDefault(require('@babel/runtime/helpers/possibleConstructorReturn'));\nvar _getPrototypeOf = _interopDefault(require('@babel/runtime/helpers/getPrototypeOf'));\nvar _inherits = _interopDefault(require('@babel/runtime/helpers/inherits'));\nvar _assertThisInitialized = _interopDefault(require('@babel/runtime/helpers/assertThisInitialized'));\nvar _defineProperty = _interopDefault(require('@babel/runtime/helpers/defineProperty'));\nvar React = require('react');\nvar reactDom = require('react-dom');\nvar invariant = _interopDefault(require('invariant'));\nvar _toConsumableArray = _interopDefault(require('@babel/runtime/helpers/toConsumableArray'));\nvar PropTypes = _interopDefault(require('prop-types'));\n\nvar Manager = function () {\n  function Manager() {\n    _classCallCheck(this, Manager);\n\n    _defineProperty(this, \"refs\", {});\n  }\n\n  _createClass(Manager, [{\n    key: \"add\",\n    value: function add(collection, ref) {\n      if (!this.refs[collection]) {\n        this.refs[collection] = [];\n      }\n\n      this.refs[collection].push(ref);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(collection, ref) {\n      var index = this.getIndex(collection, ref);\n\n      if (index !== -1) {\n        this.refs[collection].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      var _this = this;\n\n      return this.refs[this.active.collection].find(function (_ref) {\n        var node = _ref.node;\n        return node.sortableInfo.index == _this.active.index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(collection, ref) {\n      return this.refs[collection].indexOf(ref);\n    }\n  }, {\n    key: \"getOrderedRefs\",\n    value: function getOrderedRefs() {\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.active.collection;\n      return this.refs[collection].sort(sortByIndex);\n    }\n  }]);\n\n  return Manager;\n}();\n\nfunction sortByIndex(_ref2, _ref3) {\n  var index1 = _ref2.node.sortableInfo.index;\n  var index2 = _ref3.node.sortableInfo.index;\n  return index1 - index2;\n}\n\nfunction arrayMove(array, from, to) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof console !== 'undefined') {\n      console.warn(\"Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move\");\n    }\n  }\n\n  array = array.slice();\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n  return array;\n}\nfunction omit(obj, keysToOmit) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\nvar events = {\n  end: ['touchend', 'touchcancel', 'mouseup'],\n  move: ['touchmove', 'mousemove'],\n  start: ['touchstart', 'mousedown']\n};\nvar vendorPrefix = function () {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return '';\n  }\n\n  var styles = window.getComputedStyle(document.documentElement, '') || ['-moz-hidden-iframe'];\n  var pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\n  switch (pre) {\n    case 'ms':\n      return 'ms';\n\n    default:\n      return pre && pre.length ? pre[0].toUpperCase() + pre.substr(1) : '';\n  }\n}();\nfunction setInlineStyles(node, styles) {\n  Object.keys(styles).forEach(function (key) {\n    node.style[key] = styles[key];\n  });\n}\nfunction setTranslate3d(node, translate) {\n  node.style[\"\".concat(vendorPrefix, \"Transform\")] = translate == null ? '' : \"translate3d(\".concat(translate.x, \"px,\").concat(translate.y, \"px,0)\");\n}\nfunction setTransitionDuration(node, duration) {\n  node.style[\"\".concat(vendorPrefix, \"TransitionDuration\")] = duration == null ? '' : \"\".concat(duration, \"ms\");\n}\nfunction closest(el, fn) {\n  while (el) {\n    if (fn(el)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return null;\n}\nfunction limit(min, max, value) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction getPixelValue(stringValue) {\n  if (stringValue.substr(-2) === 'px') {\n    return parseFloat(stringValue);\n  }\n\n  return 0;\n}\n\nfunction getElementMargin(element) {\n  var style = window.getComputedStyle(element);\n  return {\n    bottom: getPixelValue(style.marginBottom),\n    left: getPixelValue(style.marginLeft),\n    right: getPixelValue(style.marginRight),\n    top: getPixelValue(style.marginTop)\n  };\n}\nfunction provideDisplayName(prefix, Component) {\n  var componentName = Component.displayName || Component.name;\n  return componentName ? \"\".concat(prefix, \"(\").concat(componentName, \")\") : prefix;\n}\nfunction getScrollAdjustedBoundingClientRect(node, scrollDelta) {\n  var boundingClientRect = node.getBoundingClientRect();\n  return {\n    top: boundingClientRect.top + scrollDelta.top,\n    left: boundingClientRect.left + scrollDelta.left\n  };\n}\nfunction getPosition(event) {\n  if (event.touches && event.touches.length) {\n    return {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY\n    };\n  } else if (event.changedTouches && event.changedTouches.length) {\n    return {\n      x: event.changedTouches[0].pageX,\n      y: event.changedTouches[0].pageY\n    };\n  } else {\n    return {\n      x: event.pageX,\n      y: event.pageY\n    };\n  }\n}\nfunction isTouchEvent(event) {\n  return event.touches && event.touches.length || event.changedTouches && event.changedTouches.length;\n}\nfunction getEdgeOffset(node, parent) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    left: 0,\n    top: 0\n  };\n\n  if (!node) {\n    return undefined;\n  }\n\n  var nodeOffset = {\n    left: offset.left + node.offsetLeft,\n    top: offset.top + node.offsetTop\n  };\n\n  if (node.parentNode === parent) {\n    return nodeOffset;\n  }\n\n  return getEdgeOffset(node.parentNode, parent, nodeOffset);\n}\nfunction getTargetIndex(newIndex, prevIndex, oldIndex) {\n  if (newIndex < oldIndex && newIndex > prevIndex) {\n    return newIndex - 1;\n  } else if (newIndex > oldIndex && newIndex < prevIndex) {\n    return newIndex + 1;\n  } else {\n    return newIndex;\n  }\n}\nfunction getLockPixelOffset(_ref) {\n  var lockOffset = _ref.lockOffset,\n      width = _ref.width,\n      height = _ref.height;\n  var offsetX = lockOffset;\n  var offsetY = lockOffset;\n  var unit = 'px';\n\n  if (typeof lockOffset === 'string') {\n    var match = /^[+-]?\\d*(?:\\.\\d*)?(px|%)$/.exec(lockOffset);\n    invariant(match !== null, 'lockOffset value should be a number or a string of a ' + 'number followed by \"px\" or \"%\". Given %s', lockOffset);\n    offsetX = parseFloat(lockOffset);\n    offsetY = parseFloat(lockOffset);\n    unit = match[1];\n  }\n\n  invariant(isFinite(offsetX) && isFinite(offsetY), 'lockOffset value should be a finite. Given %s', lockOffset);\n\n  if (unit === '%') {\n    offsetX = offsetX * width / 100;\n    offsetY = offsetY * height / 100;\n  }\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\nfunction getLockPixelOffsets(_ref2) {\n  var height = _ref2.height,\n      width = _ref2.width,\n      lockOffset = _ref2.lockOffset;\n  var offsets = Array.isArray(lockOffset) ? lockOffset : [lockOffset, lockOffset];\n  invariant(offsets.length === 2, 'lockOffset prop of SortableContainer should be a single ' + 'value or an array of exactly two values. Given %s', lockOffset);\n\n  var _offsets = _slicedToArray(offsets, 2),\n      minLockOffset = _offsets[0],\n      maxLockOffset = _offsets[1];\n\n  return [getLockPixelOffset({\n    height: height,\n    lockOffset: minLockOffset,\n    width: width\n  }), getLockPixelOffset({\n    height: height,\n    lockOffset: maxLockOffset,\n    width: width\n  })];\n}\n\nfunction isScrollable(el) {\n  var computedStyle = window.getComputedStyle(el);\n  var overflowRegex = /(auto|scroll)/;\n  var properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.find(function (property) {\n    return overflowRegex.test(computedStyle[property]);\n  });\n}\n\nfunction getScrollingParent(el) {\n  if (!(el instanceof HTMLElement)) {\n    return null;\n  } else if (isScrollable(el)) {\n    return el;\n  } else {\n    return getScrollingParent(el.parentNode);\n  }\n}\nfunction getContainerGridGap(element) {\n  var style = window.getComputedStyle(element);\n\n  if (style.display === 'grid') {\n    return {\n      x: getPixelValue(style.gridColumnGap),\n      y: getPixelValue(style.gridRowGap)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\nvar KEYCODE = {\n  TAB: 9,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\nvar NodeType = {\n  Anchor: 'A',\n  Button: 'BUTTON',\n  Canvas: 'CANVAS',\n  Input: 'INPUT',\n  Option: 'OPTION',\n  Textarea: 'TEXTAREA',\n  Select: 'SELECT'\n};\nfunction cloneNode(node) {\n  var selector = 'input, textarea, select, canvas, [contenteditable]';\n  var fields = node.querySelectorAll(selector);\n  var clonedNode = node.cloneNode(true);\n\n  var clonedFields = _toConsumableArray(clonedNode.querySelectorAll(selector));\n\n  clonedFields.forEach(function (field, i) {\n    if (field.type !== 'file') {\n      field.value = fields[i].value;\n    }\n\n    if (field.type === 'radio' && field.name) {\n      field.name = \"__sortableClone__\".concat(field.name);\n    }\n\n    if (field.tagName === NodeType.Canvas && fields[i].width > 0 && fields[i].height > 0) {\n      var destCtx = field.getContext('2d');\n      destCtx.drawImage(fields[i], 0, 0);\n    }\n  });\n  return clonedNode;\n}\n\nfunction sortableHandle(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableHandle, _React$Component);\n\n    function WithSortableHandle() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, WithSortableHandle);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithSortableHandle)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"wrappedInstance\", React.createRef());\n\n      return _this;\n    }\n\n    _createClass(WithSortableHandle, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var node = reactDom.findDOMNode(this);\n        node.sortableHandle = true;\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return React.createElement(WrappedComponent, _extends({\n          ref: ref\n        }, this.props));\n      }\n    }]);\n\n    return WithSortableHandle;\n  }(React.Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableHandle', WrappedComponent)), _temp;\n}\nfunction isSortableHandle(node) {\n  return node.sortableHandle != null;\n}\n\nvar AutoScroller = function () {\n  function AutoScroller(container, onScrollCallback) {\n    _classCallCheck(this, AutoScroller);\n\n    this.container = container;\n    this.onScrollCallback = onScrollCallback;\n  }\n\n  _createClass(AutoScroller, [{\n    key: \"clear\",\n    value: function clear() {\n      if (this.interval == null) {\n        return;\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var _this = this;\n\n      var translate = _ref.translate,\n          minTranslate = _ref.minTranslate,\n          maxTranslate = _ref.maxTranslate,\n          width = _ref.width,\n          height = _ref.height;\n      var direction = {\n        x: 0,\n        y: 0\n      };\n      var speed = {\n        x: 1,\n        y: 1\n      };\n      var acceleration = {\n        x: 10,\n        y: 10\n      };\n      var _this$container = this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollLeft = _this$container.scrollLeft,\n          scrollHeight = _this$container.scrollHeight,\n          scrollWidth = _this$container.scrollWidth,\n          clientHeight = _this$container.clientHeight,\n          clientWidth = _this$container.clientWidth;\n      var isTop = scrollTop === 0;\n      var isBottom = scrollHeight - scrollTop - clientHeight === 0;\n      var isLeft = scrollLeft === 0;\n      var isRight = scrollWidth - scrollLeft - clientWidth === 0;\n\n      if (translate.y >= maxTranslate.y - height / 2 && !isBottom) {\n        direction.y = 1;\n        speed.y = acceleration.y * Math.abs((maxTranslate.y - height / 2 - translate.y) / height);\n      } else if (translate.x >= maxTranslate.x - width / 2 && !isRight) {\n        direction.x = 1;\n        speed.x = acceleration.x * Math.abs((maxTranslate.x - width / 2 - translate.x) / width);\n      } else if (translate.y <= minTranslate.y + height / 2 && !isTop) {\n        direction.y = -1;\n        speed.y = acceleration.y * Math.abs((translate.y - height / 2 - minTranslate.y) / height);\n      } else if (translate.x <= minTranslate.x + width / 2 && !isLeft) {\n        direction.x = -1;\n        speed.x = acceleration.x * Math.abs((translate.x - width / 2 - minTranslate.x) / width);\n      }\n\n      if (this.interval) {\n        this.clear();\n        this.isAutoScrolling = false;\n      }\n\n      if (direction.x !== 0 || direction.y !== 0) {\n        this.interval = setInterval(function () {\n          _this.isAutoScrolling = true;\n          var offset = {\n            left: speed.x * direction.x,\n            top: speed.y * direction.y\n          };\n          _this.container.scrollTop += offset.top;\n          _this.container.scrollLeft += offset.left;\n\n          _this.onScrollCallback(offset);\n        }, 5);\n      }\n    }\n  }]);\n\n  return AutoScroller;\n}();\n\nfunction defaultGetHelperDimensions(_ref) {\n  var node = _ref.node;\n  return {\n    height: node.offsetHeight,\n    width: node.offsetWidth\n  };\n}\n\nfunction defaultShouldCancelStart(event) {\n  var interactiveElements = [NodeType.Input, NodeType.Textarea, NodeType.Select, NodeType.Option, NodeType.Button];\n\n  if (interactiveElements.indexOf(event.target.tagName) !== -1) {\n    return true;\n  }\n\n  if (closest(event.target, function (el) {\n    return el.contentEditable === 'true';\n  })) {\n    return true;\n  }\n\n  return false;\n}\n\nvar propTypes = {\n  axis: PropTypes.oneOf(['x', 'y', 'xy']),\n  contentWindow: PropTypes.any,\n  disableAutoscroll: PropTypes.bool,\n  distance: PropTypes.number,\n  getContainer: PropTypes.func,\n  getHelperDimensions: PropTypes.func,\n  helperClass: PropTypes.string,\n  helperContainer: PropTypes.oneOfType([PropTypes.func, typeof HTMLElement === 'undefined' ? PropTypes.any : PropTypes.instanceOf(HTMLElement)]),\n  hideSortableGhost: PropTypes.bool,\n  keyboardSortingTransitionDuration: PropTypes.number,\n  lockAxis: PropTypes.string,\n  lockOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  lockToContainerEdges: PropTypes.bool,\n  onSortEnd: PropTypes.func,\n  onSortMove: PropTypes.func,\n  onSortOver: PropTypes.func,\n  onSortStart: PropTypes.func,\n  pressDelay: PropTypes.number,\n  pressThreshold: PropTypes.number,\n  keyCodes: PropTypes.shape({\n    lift: PropTypes.arrayOf(PropTypes.number),\n    drop: PropTypes.arrayOf(PropTypes.number),\n    cancel: PropTypes.arrayOf(PropTypes.number),\n    up: PropTypes.arrayOf(PropTypes.number),\n    down: PropTypes.arrayOf(PropTypes.number)\n  }),\n  shouldCancelStart: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  updateBeforeSortStart: PropTypes.func,\n  useDragHandle: PropTypes.bool,\n  useWindowAsScrollContainer: PropTypes.bool\n};\nvar defaultKeyCodes = {\n  lift: [KEYCODE.SPACE],\n  drop: [KEYCODE.SPACE],\n  cancel: [KEYCODE.ESC],\n  up: [KEYCODE.UP, KEYCODE.LEFT],\n  down: [KEYCODE.DOWN, KEYCODE.RIGHT]\n};\nvar defaultProps = {\n  axis: 'y',\n  disableAutoscroll: false,\n  distance: 0,\n  getHelperDimensions: defaultGetHelperDimensions,\n  hideSortableGhost: true,\n  lockOffset: '50%',\n  lockToContainerEdges: false,\n  pressDelay: 0,\n  pressThreshold: 5,\n  keyCodes: defaultKeyCodes,\n  shouldCancelStart: defaultShouldCancelStart,\n  transitionDuration: 300,\n  useWindowAsScrollContainer: false\n};\nvar omittedProps = Object.keys(propTypes);\nfunction validateProps(props) {\n  invariant(!(props.distance && props.pressDelay), 'Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.');\n}\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, value);\n}\nvar SortableContext = React.createContext({\n  manager: {}\n});\nfunction sortableContainer(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableContainer, _React$Component);\n\n    function WithSortableContainer(props) {\n      var _this;\n\n      _classCallCheck(this, WithSortableContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSortableContainer).call(this, props));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleStart\", function (event) {\n        var _this$props = _this.props,\n            distance = _this$props.distance,\n            shouldCancelStart = _this$props.shouldCancelStart;\n\n        if (event.button === 2 || shouldCancelStart(event)) {\n          return;\n        }\n\n        _this.touched = true;\n        _this.position = getPosition(event);\n        var node = closest(event.target, function (el) {\n          return el.sortableInfo != null;\n        });\n\n        if (node && node.sortableInfo && _this.nodeIsChild(node) && !_this.state.sorting) {\n          var useDragHandle = _this.props.useDragHandle;\n          var _node$sortableInfo = node.sortableInfo,\n              index = _node$sortableInfo.index,\n              collection = _node$sortableInfo.collection,\n              disabled = _node$sortableInfo.disabled;\n\n          if (disabled) {\n            return;\n          }\n\n          if (useDragHandle && !closest(event.target, isSortableHandle)) {\n            return;\n          }\n\n          _this.manager.active = {\n            collection: collection,\n            index: index\n          };\n\n          if (!isTouchEvent(event) && event.target.tagName === NodeType.Anchor) {\n            event.preventDefault();\n          }\n\n          if (!distance) {\n            if (_this.props.pressDelay === 0) {\n              _this.handlePress(event);\n            } else {\n              _this.pressTimer = setTimeout(function () {\n                return _this.handlePress(event);\n              }, _this.props.pressDelay);\n            }\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nodeIsChild\", function (node) {\n        return node.sortableInfo.manager === _this.manager;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMove\", function (event) {\n        var _this$props2 = _this.props,\n            distance = _this$props2.distance,\n            pressThreshold = _this$props2.pressThreshold;\n\n        if (!_this.state.sorting && _this.touched && !_this._awaitingUpdateBeforeSortStart) {\n          var position = getPosition(event);\n          var delta = {\n            x: _this.position.x - position.x,\n            y: _this.position.y - position.y\n          };\n          var combinedDelta = Math.abs(delta.x) + Math.abs(delta.y);\n          _this.delta = delta;\n\n          if (!distance && (!pressThreshold || combinedDelta >= pressThreshold)) {\n            clearTimeout(_this.cancelTimer);\n            _this.cancelTimer = setTimeout(_this.cancel, 0);\n          } else if (distance && combinedDelta >= distance && _this.manager.isActive()) {\n            _this.handlePress(event);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleEnd\", function () {\n        _this.touched = false;\n\n        _this.cancel();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"cancel\", function () {\n        var distance = _this.props.distance;\n        var sorting = _this.state.sorting;\n\n        if (!sorting) {\n          if (!distance) {\n            clearTimeout(_this.pressTimer);\n          }\n\n          _this.manager.active = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePress\", function (event) {\n        try {\n          var active = _this.manager.getActive();\n\n          var _temp6 = function () {\n            if (active) {\n              var _temp7 = function _temp7() {\n                var index = _node.sortableInfo.index;\n                var margin = getElementMargin(_node);\n                var gridGap = getContainerGridGap(_this.container);\n\n                var containerBoundingRect = _this.scrollContainer.getBoundingClientRect();\n\n                var dimensions = _getHelperDimensions({\n                  index: index,\n                  node: _node,\n                  collection: _collection\n                });\n\n                _this.node = _node;\n                _this.margin = margin;\n                _this.gridGap = gridGap;\n                _this.width = dimensions.width;\n                _this.height = dimensions.height;\n                _this.marginOffset = {\n                  x: _this.margin.left + _this.margin.right + _this.gridGap.x,\n                  y: Math.max(_this.margin.top, _this.margin.bottom, _this.gridGap.y)\n                };\n                _this.boundingClientRect = _node.getBoundingClientRect();\n                _this.containerBoundingRect = containerBoundingRect;\n                _this.index = index;\n                _this.newIndex = index;\n                _this.axis = {\n                  x: _axis.indexOf('x') >= 0,\n                  y: _axis.indexOf('y') >= 0\n                };\n                _this.offsetEdge = getEdgeOffset(_node, _this.container);\n\n                if (_isKeySorting) {\n                  _this.initialOffset = getPosition(_objectSpread({}, event, {\n                    pageX: _this.boundingClientRect.left,\n                    pageY: _this.boundingClientRect.top\n                  }));\n                } else {\n                  _this.initialOffset = getPosition(event);\n                }\n\n                _this.initialScroll = {\n                  left: _this.scrollContainer.scrollLeft,\n                  top: _this.scrollContainer.scrollTop\n                };\n                _this.initialWindowScroll = {\n                  left: window.pageXOffset,\n                  top: window.pageYOffset\n                };\n                _this.helper = _this.helperContainer.appendChild(cloneNode(_node));\n                setInlineStyles(_this.helper, {\n                  boxSizing: 'border-box',\n                  height: \"\".concat(_this.height, \"px\"),\n                  left: \"\".concat(_this.boundingClientRect.left - margin.left, \"px\"),\n                  pointerEvents: 'none',\n                  position: 'fixed',\n                  top: \"\".concat(_this.boundingClientRect.top - margin.top, \"px\"),\n                  width: \"\".concat(_this.width, \"px\")\n                });\n\n                if (_isKeySorting) {\n                  _this.helper.focus();\n                }\n\n                if (_hideSortableGhost) {\n                  _this.sortableGhost = _node;\n                  setInlineStyles(_node, {\n                    opacity: 0,\n                    visibility: 'hidden'\n                  });\n                }\n\n                _this.minTranslate = {};\n                _this.maxTranslate = {};\n\n                if (_isKeySorting) {\n                  var _ref = _useWindowAsScrollContainer ? {\n                    top: 0,\n                    left: 0,\n                    width: _this.contentWindow.innerWidth,\n                    height: _this.contentWindow.innerHeight\n                  } : _this.containerBoundingRect,\n                      containerTop = _ref.top,\n                      containerLeft = _ref.left,\n                      containerWidth = _ref.width,\n                      containerHeight = _ref.height;\n\n                  var containerBottom = containerTop + containerHeight;\n                  var containerRight = containerLeft + containerWidth;\n\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = containerLeft - _this.boundingClientRect.left;\n                    _this.maxTranslate.x = containerRight - (_this.boundingClientRect.left + _this.width);\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = containerTop - _this.boundingClientRect.top;\n                    _this.maxTranslate.y = containerBottom - (_this.boundingClientRect.top + _this.height);\n                  }\n                } else {\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.left) - _this.boundingClientRect.left - _this.width / 2;\n                    _this.maxTranslate.x = (_useWindowAsScrollContainer ? _this.contentWindow.innerWidth : containerBoundingRect.left + containerBoundingRect.width) - _this.boundingClientRect.left - _this.width / 2;\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.top) - _this.boundingClientRect.top - _this.height / 2;\n                    _this.maxTranslate.y = (_useWindowAsScrollContainer ? _this.contentWindow.innerHeight : containerBoundingRect.top + containerBoundingRect.height) - _this.boundingClientRect.top - _this.height / 2;\n                  }\n                }\n\n                if (_helperClass) {\n                  _helperClass.split(' ').forEach(function (className) {\n                    return _this.helper.classList.add(className);\n                  });\n                }\n\n                _this.listenerNode = event.touches ? event.target : _this.contentWindow;\n\n                if (_isKeySorting) {\n                  _this.listenerNode.addEventListener('wheel', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('mousedown', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('keydown', _this.handleKeyDown);\n                } else {\n                  events.move.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortMove, false);\n                  });\n                  events.end.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortEnd, false);\n                  });\n                }\n\n                _this.setState({\n                  sorting: true,\n                  sortingIndex: index\n                });\n\n                if (_onSortStart) {\n                  _onSortStart({\n                    node: _node,\n                    index: index,\n                    collection: _collection,\n                    isKeySorting: _isKeySorting,\n                    nodes: _this.manager.getOrderedRefs(),\n                    helper: _this.helper\n                  }, event);\n                }\n\n                if (_isKeySorting) {\n                  _this.keyMove(0);\n                }\n              };\n\n              var _this$props3 = _this.props,\n                  _axis = _this$props3.axis,\n                  _getHelperDimensions = _this$props3.getHelperDimensions,\n                  _helperClass = _this$props3.helperClass,\n                  _hideSortableGhost = _this$props3.hideSortableGhost,\n                  updateBeforeSortStart = _this$props3.updateBeforeSortStart,\n                  _onSortStart = _this$props3.onSortStart,\n                  _useWindowAsScrollContainer = _this$props3.useWindowAsScrollContainer;\n              var _node = active.node,\n                  _collection = active.collection;\n              var _isKeySorting = _this.manager.isKeySorting;\n\n              var _temp8 = function () {\n                if (typeof updateBeforeSortStart === 'function') {\n                  _this._awaitingUpdateBeforeSortStart = true;\n\n                  var _temp9 = _finallyRethrows(function () {\n                    var index = _node.sortableInfo.index;\n                    return Promise.resolve(updateBeforeSortStart({\n                      collection: _collection,\n                      index: index,\n                      node: _node,\n                      isKeySorting: _isKeySorting\n                    }, event)).then(function () {});\n                  }, function (_wasThrown, _result) {\n                    _this._awaitingUpdateBeforeSortStart = false;\n                    if (_wasThrown) throw _result;\n                    return _result;\n                  });\n\n                  if (_temp9 && _temp9.then) return _temp9.then(function () {});\n                }\n              }();\n\n              return _temp8 && _temp8.then ? _temp8.then(_temp7) : _temp7(_temp8);\n            }\n          }();\n\n          return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortMove\", function (event) {\n        var onSortMove = _this.props.onSortMove;\n\n        if (typeof event.preventDefault === 'function' && event.cancelable) {\n          event.preventDefault();\n        }\n\n        _this.updateHelperPosition(event);\n\n        _this.animateNodes();\n\n        _this.autoscroll();\n\n        if (onSortMove) {\n          onSortMove(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortEnd\", function (event) {\n        var _this$props4 = _this.props,\n            hideSortableGhost = _this$props4.hideSortableGhost,\n            onSortEnd = _this$props4.onSortEnd;\n        var _this$manager = _this.manager,\n            collection = _this$manager.active.collection,\n            isKeySorting = _this$manager.isKeySorting;\n\n        var nodes = _this.manager.getOrderedRefs();\n\n        if (_this.listenerNode) {\n          if (isKeySorting) {\n            _this.listenerNode.removeEventListener('wheel', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('mousedown', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('keydown', _this.handleKeyDown);\n          } else {\n            events.move.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortMove);\n            });\n            events.end.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortEnd);\n            });\n          }\n        }\n\n        _this.helper.parentNode.removeChild(_this.helper);\n\n        if (hideSortableGhost && _this.sortableGhost) {\n          setInlineStyles(_this.sortableGhost, {\n            opacity: '',\n            visibility: ''\n          });\n        }\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node2 = nodes[i];\n          var el = _node2.node;\n          _node2.edgeOffset = null;\n          _node2.boundingClientRect = null;\n          setTranslate3d(el, null);\n          setTransitionDuration(el, null);\n          _node2.translate = null;\n        }\n\n        _this.autoScroller.clear();\n\n        _this.manager.active = null;\n        _this.manager.isKeySorting = false;\n\n        _this.setState({\n          sorting: false,\n          sortingIndex: null\n        });\n\n        if (typeof onSortEnd === 'function') {\n          onSortEnd({\n            collection: collection,\n            newIndex: _this.newIndex,\n            oldIndex: _this.index,\n            isKeySorting: isKeySorting,\n            nodes: nodes\n          }, event);\n        }\n\n        _this.touched = false;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"autoscroll\", function () {\n        var disableAutoscroll = _this.props.disableAutoscroll;\n        var isKeySorting = _this.manager.isKeySorting;\n\n        if (disableAutoscroll) {\n          _this.autoScroller.clear();\n\n          return;\n        }\n\n        if (isKeySorting) {\n          var translate = _objectSpread({}, _this.translate);\n\n          var scrollX = 0;\n          var scrollY = 0;\n\n          if (_this.axis.x) {\n            translate.x = Math.min(_this.maxTranslate.x, Math.max(_this.minTranslate.x, _this.translate.x));\n            scrollX = _this.translate.x - translate.x;\n          }\n\n          if (_this.axis.y) {\n            translate.y = Math.min(_this.maxTranslate.y, Math.max(_this.minTranslate.y, _this.translate.y));\n            scrollY = _this.translate.y - translate.y;\n          }\n\n          _this.translate = translate;\n          setTranslate3d(_this.helper, _this.translate);\n          _this.scrollContainer.scrollLeft += scrollX;\n          _this.scrollContainer.scrollTop += scrollY;\n          return;\n        }\n\n        _this.autoScroller.update({\n          height: _this.height,\n          maxTranslate: _this.maxTranslate,\n          minTranslate: _this.minTranslate,\n          translate: _this.translate,\n          width: _this.width\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onAutoScroll\", function (offset) {\n        _this.translate.x += offset.left;\n        _this.translate.y += offset.top;\n\n        _this.animateNodes();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (event) {\n        var keyCode = event.keyCode;\n        var _this$props5 = _this.props,\n            shouldCancelStart = _this$props5.shouldCancelStart,\n            _this$props5$keyCodes = _this$props5.keyCodes,\n            customKeyCodes = _this$props5$keyCodes === void 0 ? {} : _this$props5$keyCodes;\n\n        var keyCodes = _objectSpread({}, defaultKeyCodes, customKeyCodes);\n\n        if (_this.manager.active && !_this.manager.isKeySorting || !_this.manager.active && (!keyCodes.lift.includes(keyCode) || shouldCancelStart(event) || !_this.isValidSortingTarget(event))) {\n          return;\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (keyCodes.lift.includes(keyCode) && !_this.manager.active) {\n          _this.keyLift(event);\n        } else if (keyCodes.drop.includes(keyCode) && _this.manager.active) {\n          _this.keyDrop(event);\n        } else if (keyCodes.cancel.includes(keyCode)) {\n          _this.newIndex = _this.manager.active.index;\n\n          _this.keyDrop(event);\n        } else if (keyCodes.up.includes(keyCode)) {\n          _this.keyMove(-1);\n        } else if (keyCodes.down.includes(keyCode)) {\n          _this.keyMove(1);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyLift\", function (event) {\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        var _node$sortableInfo2 = node.sortableInfo,\n            index = _node$sortableInfo2.index,\n            collection = _node$sortableInfo2.collection;\n        _this.initialFocusedNode = target;\n        _this.manager.isKeySorting = true;\n        _this.manager.active = {\n          index: index,\n          collection: collection\n        };\n\n        _this.handlePress(event);\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyMove\", function (shift) {\n        var nodes = _this.manager.getOrderedRefs();\n\n        var lastIndex = nodes[nodes.length - 1].node.sortableInfo.index;\n        var newIndex = _this.newIndex + shift;\n        var prevIndex = _this.newIndex;\n\n        if (newIndex < 0 || newIndex > lastIndex) {\n          return;\n        }\n\n        _this.prevIndex = prevIndex;\n        _this.newIndex = newIndex;\n        var targetIndex = getTargetIndex(_this.newIndex, _this.prevIndex, _this.index);\n        var target = nodes.find(function (_ref2) {\n          var node = _ref2.node;\n          return node.sortableInfo.index === targetIndex;\n        });\n        var targetNode = target.node;\n        var scrollDelta = _this.containerScrollDelta;\n        var targetBoundingClientRect = target.boundingClientRect || getScrollAdjustedBoundingClientRect(targetNode, scrollDelta);\n        var targetTranslate = target.translate || {\n          x: 0,\n          y: 0\n        };\n        var targetPosition = {\n          top: targetBoundingClientRect.top + targetTranslate.y - scrollDelta.top,\n          left: targetBoundingClientRect.left + targetTranslate.x - scrollDelta.left\n        };\n        var shouldAdjustForSize = prevIndex < newIndex;\n        var sizeAdjustment = {\n          x: shouldAdjustForSize && _this.axis.x ? targetNode.offsetWidth - _this.width : 0,\n          y: shouldAdjustForSize && _this.axis.y ? targetNode.offsetHeight - _this.height : 0\n        };\n\n        _this.handleSortMove({\n          pageX: targetPosition.left + sizeAdjustment.x,\n          pageY: targetPosition.top + sizeAdjustment.y,\n          ignoreTransition: shift === 0\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyDrop\", function (event) {\n        _this.handleSortEnd(event);\n\n        if (_this.initialFocusedNode) {\n          _this.initialFocusedNode.focus();\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyEnd\", function (event) {\n        if (_this.manager.active) {\n          _this.keyDrop(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isValidSortingTarget\", function (event) {\n        var useDragHandle = _this.props.useDragHandle;\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        return node && node.sortableInfo && !node.sortableInfo.disabled && (useDragHandle ? isSortableHandle(target) : target.sortableInfo);\n      });\n\n      var manager = new Manager();\n      validateProps(props);\n      _this.manager = manager;\n      _this.wrappedInstance = React.createRef();\n      _this.sortableContextValue = {\n        manager: manager\n      };\n      _this.events = {\n        end: _this.handleEnd,\n        move: _this.handleMove,\n        start: _this.handleStart\n      };\n      return _this;\n    }\n\n    _createClass(WithSortableContainer, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        var container = this.getContainer();\n        Promise.resolve(container).then(function (containerNode) {\n          _this2.container = containerNode;\n          _this2.document = _this2.container.ownerDocument || document;\n          var contentWindow = _this2.props.contentWindow || _this2.document.defaultView || window;\n          _this2.contentWindow = typeof contentWindow === 'function' ? contentWindow() : contentWindow;\n          _this2.scrollContainer = useWindowAsScrollContainer ? _this2.document.scrollingElement || _this2.document.documentElement : getScrollingParent(_this2.container) || _this2.container;\n          _this2.autoScroller = new AutoScroller(_this2.scrollContainer, _this2.onAutoScroll);\n          Object.keys(_this2.events).forEach(function (key) {\n            return events[key].forEach(function (eventName) {\n              return _this2.container.addEventListener(eventName, _this2.events[key], false);\n            });\n          });\n\n          _this2.container.addEventListener('keydown', _this2.handleKeyDown);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        if (this.helper && this.helper.parentNode) {\n          this.helper.parentNode.removeChild(this.helper);\n        }\n\n        if (!this.container) {\n          return;\n        }\n\n        Object.keys(this.events).forEach(function (key) {\n          return events[key].forEach(function (eventName) {\n            return _this3.container.removeEventListener(eventName, _this3.events[key]);\n          });\n        });\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"updateHelperPosition\",\n      value: function updateHelperPosition(event) {\n        var _this$props6 = this.props,\n            lockAxis = _this$props6.lockAxis,\n            lockOffset = _this$props6.lockOffset,\n            lockToContainerEdges = _this$props6.lockToContainerEdges,\n            transitionDuration = _this$props6.transitionDuration,\n            _this$props6$keyboard = _this$props6.keyboardSortingTransitionDuration,\n            keyboardSortingTransitionDuration = _this$props6$keyboard === void 0 ? transitionDuration : _this$props6$keyboard;\n        var isKeySorting = this.manager.isKeySorting;\n        var ignoreTransition = event.ignoreTransition;\n        var offset = getPosition(event);\n        var translate = {\n          x: offset.x - this.initialOffset.x,\n          y: offset.y - this.initialOffset.y\n        };\n        translate.y -= window.pageYOffset - this.initialWindowScroll.top;\n        translate.x -= window.pageXOffset - this.initialWindowScroll.left;\n        this.translate = translate;\n\n        if (lockToContainerEdges) {\n          var _getLockPixelOffsets = getLockPixelOffsets({\n            height: this.height,\n            lockOffset: lockOffset,\n            width: this.width\n          }),\n              _getLockPixelOffsets2 = _slicedToArray(_getLockPixelOffsets, 2),\n              minLockOffset = _getLockPixelOffsets2[0],\n              maxLockOffset = _getLockPixelOffsets2[1];\n\n          var minOffset = {\n            x: this.width / 2 - minLockOffset.x,\n            y: this.height / 2 - minLockOffset.y\n          };\n          var maxOffset = {\n            x: this.width / 2 - maxLockOffset.x,\n            y: this.height / 2 - maxLockOffset.y\n          };\n          translate.x = limit(this.minTranslate.x + minOffset.x, this.maxTranslate.x - maxOffset.x, translate.x);\n          translate.y = limit(this.minTranslate.y + minOffset.y, this.maxTranslate.y - maxOffset.y, translate.y);\n        }\n\n        if (lockAxis === 'x') {\n          translate.y = 0;\n        } else if (lockAxis === 'y') {\n          translate.x = 0;\n        }\n\n        if (isKeySorting && keyboardSortingTransitionDuration && !ignoreTransition) {\n          setTransitionDuration(this.helper, keyboardSortingTransitionDuration);\n        }\n\n        setTranslate3d(this.helper, translate);\n      }\n    }, {\n      key: \"animateNodes\",\n      value: function animateNodes() {\n        var _this$props7 = this.props,\n            transitionDuration = _this$props7.transitionDuration,\n            hideSortableGhost = _this$props7.hideSortableGhost,\n            onSortOver = _this$props7.onSortOver;\n        var containerScrollDelta = this.containerScrollDelta,\n            windowScrollDelta = this.windowScrollDelta;\n        var nodes = this.manager.getOrderedRefs();\n        var sortingOffset = {\n          left: this.offsetEdge.left + this.translate.x + containerScrollDelta.left,\n          top: this.offsetEdge.top + this.translate.y + containerScrollDelta.top\n        };\n        var isKeySorting = this.manager.isKeySorting;\n        var prevIndex = this.newIndex;\n        this.newIndex = null;\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node3 = nodes[i].node;\n          var index = _node3.sortableInfo.index;\n          var width = _node3.offsetWidth;\n          var height = _node3.offsetHeight;\n          var offset = {\n            height: this.height > height ? height / 2 : this.height / 2,\n            width: this.width > width ? width / 2 : this.width / 2\n          };\n          var mustShiftBackward = isKeySorting && index > this.index && index <= prevIndex;\n          var mustShiftForward = isKeySorting && index < this.index && index >= prevIndex;\n          var translate = {\n            x: 0,\n            y: 0\n          };\n          var edgeOffset = nodes[i].edgeOffset;\n\n          if (!edgeOffset) {\n            edgeOffset = getEdgeOffset(_node3, this.container);\n            nodes[i].edgeOffset = edgeOffset;\n\n            if (isKeySorting) {\n              nodes[i].boundingClientRect = getScrollAdjustedBoundingClientRect(_node3, containerScrollDelta);\n            }\n          }\n\n          var nextNode = i < nodes.length - 1 && nodes[i + 1];\n          var prevNode = i > 0 && nodes[i - 1];\n\n          if (nextNode && !nextNode.edgeOffset) {\n            nextNode.edgeOffset = getEdgeOffset(nextNode.node, this.container);\n\n            if (isKeySorting) {\n              nextNode.boundingClientRect = getScrollAdjustedBoundingClientRect(nextNode.node, containerScrollDelta);\n            }\n          }\n\n          if (index === this.index) {\n            if (hideSortableGhost) {\n              this.sortableGhost = _node3;\n              setInlineStyles(_node3, {\n                opacity: 0,\n                visibility: 'hidden'\n              });\n            }\n\n            continue;\n          }\n\n          if (transitionDuration) {\n            setTransitionDuration(_node3, transitionDuration);\n          }\n\n          if (this.axis.x) {\n            if (this.axis.y) {\n              if (mustShiftForward || index < this.index && (sortingOffset.left + windowScrollDelta.left - offset.width <= edgeOffset.left && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height || sortingOffset.top + windowScrollDelta.top + offset.height <= edgeOffset.top)) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (edgeOffset.left + translate.x > this.containerBoundingRect.width - offset.width) {\n                  if (nextNode) {\n                    translate.x = nextNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = nextNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                if (this.newIndex === null) {\n                  this.newIndex = index;\n                }\n              } else if (mustShiftBackward || index > this.index && (sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top || sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top + height)) {\n                translate.x = -(this.width + this.marginOffset.x);\n\n                if (edgeOffset.left + translate.x < this.containerBoundingRect.left + offset.width) {\n                  if (prevNode) {\n                    translate.x = prevNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = prevNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                this.newIndex = index;\n              }\n            } else {\n              if (mustShiftBackward || index > this.index && sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left) {\n                translate.x = -(this.width + this.marginOffset.x);\n                this.newIndex = index;\n              } else if (mustShiftForward || index < this.index && sortingOffset.left + windowScrollDelta.left <= edgeOffset.left + offset.width) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (this.newIndex == null) {\n                  this.newIndex = index;\n                }\n              }\n            }\n          } else if (this.axis.y) {\n            if (mustShiftBackward || index > this.index && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top) {\n              translate.y = -(this.height + this.marginOffset.y);\n              this.newIndex = index;\n            } else if (mustShiftForward || index < this.index && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height) {\n              translate.y = this.height + this.marginOffset.y;\n\n              if (this.newIndex == null) {\n                this.newIndex = index;\n              }\n            }\n          }\n\n          setTranslate3d(_node3, translate);\n          nodes[i].translate = translate;\n        }\n\n        if (this.newIndex == null) {\n          this.newIndex = this.index;\n        }\n\n        if (isKeySorting) {\n          this.newIndex = prevIndex;\n        }\n\n        var oldIndex = isKeySorting ? this.prevIndex : prevIndex;\n\n        if (onSortOver && this.newIndex !== oldIndex) {\n          onSortOver({\n            collection: this.manager.active.collection,\n            index: this.index,\n            newIndex: this.newIndex,\n            oldIndex: oldIndex,\n            isKeySorting: isKeySorting,\n            nodes: nodes,\n            helper: this.helper\n          });\n        }\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"getContainer\",\n      value: function getContainer() {\n        var getContainer = this.props.getContainer;\n\n        if (typeof getContainer !== 'function') {\n          return reactDom.findDOMNode(this);\n        }\n\n        return getContainer(config.withRef ? this.getWrappedInstance() : undefined);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return React.createElement(SortableContext.Provider, {\n          value: this.sortableContextValue\n        }, React.createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps))));\n      }\n    }, {\n      key: \"helperContainer\",\n      get: function get() {\n        var helperContainer = this.props.helperContainer;\n\n        if (typeof helperContainer === 'function') {\n          return helperContainer();\n        }\n\n        return this.props.helperContainer || this.document.body;\n      }\n    }, {\n      key: \"containerScrollDelta\",\n      get: function get() {\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n\n        if (useWindowAsScrollContainer) {\n          return {\n            left: 0,\n            top: 0\n          };\n        }\n\n        return {\n          left: this.scrollContainer.scrollLeft - this.initialScroll.left,\n          top: this.scrollContainer.scrollTop - this.initialScroll.top\n        };\n      }\n    }, {\n      key: \"windowScrollDelta\",\n      get: function get() {\n        return {\n          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,\n          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top\n        };\n      }\n    }]);\n\n    return WithSortableContainer;\n  }(React.Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableList', WrappedComponent)), _defineProperty(_class, \"defaultProps\", defaultProps), _defineProperty(_class, \"propTypes\", propTypes), _temp;\n}\n\nvar propTypes$1 = {\n  index: PropTypes.number.isRequired,\n  collection: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.bool\n};\nvar omittedProps$1 = Object.keys(propTypes$1);\nfunction sortableElement(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableElement, _React$Component);\n\n    function WithSortableElement() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, WithSortableElement);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WithSortableElement)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"wrappedInstance\", React.createRef());\n\n      return _this;\n    }\n\n    _createClass(WithSortableElement, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.register();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.node) {\n          if (prevProps.index !== this.props.index) {\n            this.node.sortableInfo.index = this.props.index;\n          }\n\n          if (prevProps.disabled !== this.props.disabled) {\n            this.node.sortableInfo.disabled = this.props.disabled;\n          }\n        }\n\n        if (prevProps.collection !== this.props.collection) {\n          this.unregister(prevProps.collection);\n          this.register();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unregister();\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        var _this$props = this.props,\n            collection = _this$props.collection,\n            disabled = _this$props.disabled,\n            index = _this$props.index;\n        var node = reactDom.findDOMNode(this);\n        node.sortableInfo = {\n          collection: collection,\n          disabled: disabled,\n          index: index,\n          manager: this.context.manager\n        };\n        this.node = node;\n        this.ref = {\n          node: node\n        };\n        this.context.manager.add(collection, this.ref);\n      }\n    }, {\n      key: \"unregister\",\n      value: function unregister() {\n        var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.collection;\n        this.context.manager.remove(collection, this.ref);\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call');\n        return this.wrappedInstance.current;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? this.wrappedInstance : null;\n        return React.createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps$1)));\n      }\n    }]);\n\n    return WithSortableElement;\n  }(React.Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableElement', WrappedComponent)), _defineProperty(_class, \"contextType\", SortableContext), _defineProperty(_class, \"propTypes\", propTypes$1), _defineProperty(_class, \"defaultProps\", {\n    collection: 0\n  }), _temp;\n}\n\nexports.SortableContainer = sortableContainer;\nexports.sortableContainer = sortableContainer;\nexports.SortableElement = sortableElement;\nexports.sortableElement = sortableElement;\nexports.SortableHandle = sortableHandle;\nexports.sortableHandle = sortableHandle;\nexports.arrayMove = arrayMove;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}